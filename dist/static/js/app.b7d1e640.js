(function(t){function a(a){for(var s,l,o=a[0],r=a[1],c=a[2],d=0,m=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&m.push(i[l][0]),i[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);u&&u(a);while(m.length)m.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],s=!0,o=1;o<e.length;o++){var r=e[o];0!==i[r]&&(s=!1)}s&&(n.splice(a--,1),t=l(l.s=e[0]))}return t}var s={},i={app:0},n=[];function l(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.m=t,l.c=s,l.d=function(t,a,e){l.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,a){if(1&a&&(t=l(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)l.d(e,s,function(a){return t[a]}.bind(null,s));return e},l.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(a,"a",a),a},l.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=a,o=o.slice();for(var c=0;c<o.length;c++)a(o[c]);var u=r;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",[e("v-main",[e("router-view"),e("MessageSnackbar")],1)],1)},n=[],l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center"},[e("v-snackbar",{attrs:{top:"",color:t.$store.state.snackbarMessage.color,timeout:2e3},model:{value:t.$store.state.snackbarMessage.show,callback:function(a){t.$set(t.$store.state.snackbarMessage,"show",a)},expression:"$store.state.snackbarMessage.show"}},[t._v(" "+t._s(t.$store.state.snackbarMessage.message)+" "),e("v-btn",{attrs:{icon:""},on:{click:function(a){t.$store.state.snackbarMessage.show=!1}}},[e("v-icon",[t._v("mdi-close")])],1)],1)],1)},o=[],r={name:"MessageSnackbar",props:["snackbar"],watch:{show:function(){this.show=this.snackbar}},data:function(){return{show:!1}}},c=r,u=e("2877"),d=e("6544"),m=e.n(d),p=e("8336"),v=e("132d"),h=e("2db4"),g=Object(u["a"])(c,l,o,!1,null,null,null),_=g.exports;m()(g,{VBtn:p["a"],VIcon:v["a"],VSnackbar:h["a"]});var f={name:"App",components:{MessageSnackbar:_},data:function(){return{}}},C=f,b=e("7496"),x=e("f6c4"),S=Object(u["a"])(C,i,n,!1,null,null,null),w=S.exports;m()(S,{VApp:b["a"],VMain:x["a"]});var D=e("9483");Object(D["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var M=e("8c4f"),F=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-card",{staticClass:"pa-3 text-center display-1",attrs:{outlined:"",rounded:""}},[t._v(" Milo Preprocessing Tools ")]),e("v-row",[e("v-col",{staticClass:"mt-3",attrs:{cols:"6"}},[e("v-card",{staticClass:"pa-3 text-center",attrs:{hover:"",outlined:"",rounded:""},on:{click:function(a){return t.$router.push({name:"ColumnReducer"})}}},[e("v-icon",{attrs:{"x-large":""}},[t._v("mdi-table-column-width")]),e("span",{staticClass:"title"},[t._v("Column Reducer Tool")])],1)],1),e("v-col",{staticClass:"mt-3",attrs:{cols:"6"}},[e("v-card",{staticClass:"pa-3 text-center",attrs:{hover:"",outlined:"",rounded:""},on:{click:function(a){return t.$router.push({name:"TrainTestSplit"})}}},[e("v-icon",{attrs:{"x-large":""}},[t._v("mdi-call-split")]),e("span",{staticClass:"title"},[t._v("Train and Test Builder")])],1)],1)],1)],1)},T=[],y={name:"Landing",data:function(){return{}}},V=y,k=e("b0af"),z=e("62ad"),O=e("a523"),P=e("0fd9"),L=Object(u["a"])(V,F,T,!1,null,null,null),R=L.exports;m()(L,{VCard:k["a"],VCol:z["a"],VContainer:O["a"],VIcon:v["a"],VRow:P["a"]});var N=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{outlined:""}},[e("MenuBar",{attrs:{title:"Column Reducer Tool",icon:"mdi-table-column-width",description:"This tool allows to extract specific columns from your training and test data to experiment with further refinement of your model."},on:{reset:t.resetStep1Training}}),e("v-card",{staticClass:"ma-3 pa-5",style:{opacity:t.setTransparencyFromStepProgress(1)},attrs:{outlined:""}},[e("StepHeading",{attrs:{stepNumber:"1",stepTitle:"Select Data File(s)"}}),e("div",[e("v-card",{staticClass:"ma-5 pa-3",attrs:{outlined:""}},[e("div",{staticClass:"overline ml-5 mb-3"},[t._v(" Training File ")]),e("v-layout",{staticClass:"ml-5"},[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"100",outlined:"",label:"Training Data File"},on:{change:t.dataFileUploadTraining},model:{value:t.trainingFileData,callback:function(a){t.trainingFileData=a},expression:"trainingFileData"}})],1),e("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[t.trainingDataLoading?e("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}}):t._e(),e("DataValidation",{staticClass:"mt-n3",attrs:{fileData:t.trainingMetadata,dataType:"training"},on:{dataValid:t.dataValidationTrainingData}})],1)],1)],1)],1),null!=t.trainingMetadata?e("Decision",{attrs:{decision:t.testingFile,message:"Do you have a second generalization testing file?",trueVal:"Yes",falseVal:"No"},on:{decide:t.setTestingFileState}}):t._e(),1==t.testingFile?e("v-card",{staticClass:"ma-5 pa-3",attrs:{outlined:""}},[e("div",{staticClass:"overline ml-5 mb-3"},[t._v(" Generalization Testing File ")]),e("v-layout",{staticClass:"ml-5"},[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"100",outlined:"",label:"Testing Data File"},on:{change:t.dataFileUploadTesting},model:{value:t.testingFileData,callback:function(a){t.testingFileData=a},expression:"testingFileData"}})],1),e("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[t.testingDataLoading?e("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}}):t._e(),e("DataValidation",{staticClass:"mt-n3",attrs:{fileData:t.testingMetadata,dataType:"testing"},on:{dataValid:t.dataValidationTestingData}})],1)],1)],1)],1):t._e(),1==t.testingFile&&null!=t.testingMetadata?e("v-card",{staticClass:"ma-5 pa-3",attrs:{outlined:""}},[e("div",{staticClass:"overline ml-5 mb-3"},[t._v(" Cross-File Validation ")]),e("v-layout",{staticClass:"ml-5"},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[null!=t.dataColumnsMatch?e("div",{staticClass:"body-1"},[e("div",[t.dataColumnsMatch.numberOfColumnsMatch?e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Number of Columns Match Between Files ")],1):t._e(),t.dataColumnsMatch.numberOfColumnsMatch?t._e():e("div",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" Number of Columns Differ Between Files ")],1)]),e("div",[t.dataColumnsMatch.columnNamesMatch?e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Column Names Match Between Files ")],1):t._e(),t.dataColumnsMatch.columnNamesMatch?t._e():e("div",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" Column Names Differ Between Files "),e("div",{staticClass:"pl-10 pb-5"},[e("div",[t._v(" Columns in Test File Missing from Training: "),t._l(t.dataColumnsMatch.inTestNotTrain,(function(a,s){return e("v-chip",{key:s,attrs:{outlined:""}},[t._v(t._s(a))])}))],2),e("div",[t._v(" Columns in Training File Missing from Training: "),t._l(t.dataColumnsMatch.inTrainNotTest,(function(a,s){return e("v-chip",{key:s,attrs:{outlined:""}},[t._v(t._s(a))])}))],2)])],1)])]):t._e()])],1)],1)],1):t._e()],1)],1),t.showStep2?e("v-card",{staticClass:"ma-3 pa-5",style:{opacity:t.setTransparencyFromStepProgress(2)},attrs:{outlined:""}},[e("StepHeading",{attrs:{stepNumber:"2",stepTitle:"Target Selection"}}),e("div",[e("p",[t._v(" Identify the column containing your target variable to ensure it is maintain in the output. ")]),e("v-layout",{staticClass:"ma-5"},[e("v-row",{attrs:{wrap:""}},[e("v-col",{attrs:{cols:"6"}},[e("v-autocomplete",{attrs:{clearable:"",outlined:"",label:"Target Column",items:t.targetColumnList},on:{change:t.targetColumnChanged},model:{value:t.target,callback:function(a){t.target=a},expression:"target"}})],1)],1)],1),null!=t.target?e("div",{staticClass:"body-1"},[1==t.targetValid?e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Valid target column. ")],1):t._e(),0==t.targetValid?e("div",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" The selected target column is not valid. There must be two unique values. ")],1):t._e()]):t._e()],1)],1):t._e(),t.showStep3?e("v-card",{staticClass:"ma-3 pa-5",style:{opacity:t.setTransparencyFromStepProgress(3)},attrs:{outlined:""}},[e("StepHeading",{attrs:{stepNumber:"3",stepTitle:"Column Selection"}}),e("div",[e("p",[t._v("Click below to selected columns or paste a comma seperated list of columns to be outputted. "),e("br"),t._v(" You can also "),e("a",{on:{click:function(a){t.miloDialog=!0}}},[t._v('import from a MILO results "report.csv" file')]),t._v(".")]),e("v-layout",{staticClass:"ma-5"},[e("v-row",{attrs:{wrap:""}},[e("v-col",{attrs:{cols:"12"}},[e("v-combobox",{staticClass:"ml-8",attrs:{clearable:"",multiple:"",chips:"",items:t.nontargetColumnList,outlined:"",label:"Selected Columns"},on:{change:function(a){return t.splitPasted()}},model:{value:t.selectedColumns,callback:function(a){t.selectedColumns=a},expression:"selectedColumns"}}),e("div"),t.selectedColumns.length>0?e("div",{staticClass:"body-1"},[e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" "+t._s(t.selectedColumns.length)+" columns selected. ")],1)]):t._e(),null!=t.errorColumns?e("div",[t.errorColumns.length>0?e("div",[e("v-alert",{staticClass:"mt-3",attrs:{text:"",type:"error",dismissible:"",dense:""}},[e("span",[t._v("The following column"),t.errorColumns.length>1?e("span",[t._v("s")]):t._e(),t._v(" are invalid:")]),t._l(t.errorColumns,(function(a,s){return e("v-chip",{key:s,staticClass:"ml-2",attrs:{small:"",dark:"",color:"red lighten-3"}},[t._v(t._s(a))])}))],2)],1):t._e()]):t._e(),e("p")],1)],1)],1)],1),t.selectedColumns.length>0?e("div",{staticClass:"text-right"},[0==t.confirmColumnSelection?e("v-btn",{attrs:{color:"primary",rounded:""},on:{click:function(a){return t.proceedToStep4()}}},[t._v(" Confirm Column Selection ")]):t._e()],1):t._e()],1):t._e(),t.showStep4?e("v-card",{staticClass:"ma-3 pa-5",style:{opacity:t.setTransparencyFromStepProgress(4)},attrs:{outlined:""}},[e("StepHeading",{attrs:{stepNumber:"4",stepTitle:"Output Files"}}),e("div",[e("v-layout",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-card",{staticClass:"px-3 py-1 mt",attrs:{flat:"",outlined:""}},[e("div",{staticClass:"overline"},[t._v(" Output Summary ")]),e("div",[t._v(" Feature Columns: "+t._s(t.selectedColumns.length)+" of "+t._s(t.nontargetColumnList.length)+" ")]),e("div",[t._v(" Target Column: "+t._s(t.target)+" ")]),e("div",[t._v(" Training Rows: "+t._s(t.trainingMetadata.rows)+" ")]),null!=t.testingMetadata?e("div",[t._v(" Testing Rows: "+t._s(t.testingMetadata.rows)+" ")]):t._e()])],1),e("v-col",{attrs:{cols:"6"}},[e("div",[e("v-text-field",{attrs:{label:"Training File Output",suffix:".csv",outlined:"",dense:""},model:{value:t.trainingOutputFilename,callback:function(a){t.trainingOutputFilename=a},expression:"trainingOutputFilename"}})],1),e("div",[null!=t.testingMetadata?e("v-text-field",{attrs:{label:"Testing File Output",suffix:".csv",outlined:"",dense:""},model:{value:t.testingOutputFilename,callback:function(a){t.testingOutputFilename=a},expression:"testingOutputFilename"}}):t._e()],1),e("div",{staticClass:"text-right"},[e("v-btn",{attrs:{color:"primary",rounded:""},on:{click:function(a){return t.processFiles()}}},[t._v(" Build Files ")])],1)])],1)],1)],1)],1):t._e(),e("v-dialog",{attrs:{"max-width":"700"},model:{value:t.miloDialog,callback:function(a){t.miloDialog=a},expression:"miloDialog"}},[e("v-card",{staticClass:"pa-3 pb-6",attrs:{flat:""}},[e("v-card-title",[e("p",[t._v('Import Columns from MILO Results "report.csv" File')]),e("v-spacer"),e("v-btn",{staticClass:"mt-n5",attrs:{icon:"",flat:""},on:{click:function(a){t.miloDialog=!1}}},[e("v-icon",{attrs:{medium:""}},[t._v("mdi-close")])],1)],1),e("v-card-text",{staticClass:"mx-0 py-0"},[e("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"200",outlined:"",label:"MILO Data File"},on:{change:t.miloFileUpload}}),t.miloDataLoading?e("v-progress-linear",{attrs:{indeterminate:""}}):t._e(),e("v-spacer"),e("div",[e("div",{staticClass:"ml-8 mb-3"},[t._v("Select columns based on the feature selector method.")]),t.miloMetadata?e("v-select",{staticClass:"ml-8",attrs:{items:t.miloMetadata,outlined:"",label:"Feature Selector Method"},model:{value:t.miloColumns,callback:function(a){t.miloColumns=a},expression:"miloColumns"}}):t._e(),e("div",t._l(t.miloColumns,(function(a,s){return e("v-chip",{key:s,attrs:{small:"",color:"grey lighten-2"}},[t._v(t._s(a))])})),1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"mr-2",attrs:{rounded:"",dark:"",color:"primary"},on:{click:t.setMiloColumns}},[t._v("Select Columns")])],1)],1)],1),e("FileProcessingDialog",{attrs:{isOpen:t.fileProcessingDialog,loading:t.fileProcessingInProgress}})],1)},$=[],I=(e("ac1f"),e("5319"),e("b0c0"),e("d81d"),e("26e9"),e("4160"),e("159b"),e("caad"),e("2532"),e("1276"),e("498a"),e("a434"),e("0481"),e("c975"),e("bc3a")),B=e.n(I),E=e("c46f"),j=e("19de"),A=e.n(j),H=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",{attrs:{flat:""}},[null!=t.fileData?e("div",{staticClass:"text-left"},[e("v-card",{staticClass:"py-2 px-3 mt-3 mr-5",attrs:{flat:"",outlined:""}},[e("div",{staticClass:"overline"},[t._v("File Validation")]),e("div",["training"==t.dataType?e("div",[t.alerts.maxTrainingRows?e("div",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" "+t._s(t.fileData.rows)+" rows "),e("span",{staticClass:"grey--text"},[t._v("(Max in MILO is "+t._s(t.rules.maxTrainingRows)+")")])],1):t._e(),t.alerts.maxTrainingRows?t._e():e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" "+t._s(t.fileData.rows)+" rows "),e("span",{staticClass:"grey--text"},[t._v("(Max in MILO is "+t._s(t.rules.maxTrainingRows)+")")])],1)]):t._e(),"testing"==t.dataType?e("div",[t.alerts.maxTestingRows?e("div",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" "+t._s(t.fileData.rows)+" rows "),e("span",{staticClass:"grey--text"},[t._v("(Max in MILO is "+t._s(t.rules.maxTestingRows)+")")])],1):t._e(),t.alerts.maxTestingRows?t._e():e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" "+t._s(t.fileData.rows)+" rows "),e("span",{staticClass:"grey--text"},[t._v("(Max in MILO is "+t._s(t.rules.maxTestingRows)+")")])],1)]):t._e(),"combined"==t.dataType?e("div",[e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" "+t._s(t.fileData.rows)+" rows ")],1)]):t._e()]),e("div",[t.alerts.maxFeatures?e("div",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" "+t._s(t.fileData.columns)+" columns "),e("span",{staticClass:"grey--text"},[t._v("(Max in MILO is "+t._s(t.rules.maxFeatures)+")")])],1):t._e(),t.alerts.maxFeatures?t._e():e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" "+t._s(t.fileData.columns)+" columns "),e("span",{staticClass:"grey--text"},[t._v("(Max in MILO is "+t._s(t.rules.maxFeatures)+")")])],1)]),e("div",[t.alerts.moreColthanRow?e("div",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),e("span",{staticClass:"grey--text"},[t._v("File has more columns than rows. We do not recommend this.")])],1):t._e(),t.alerts.moreColthanRow?t._e():e("div")]),e("div",[t.alerts.missingData?e("div",[e("v-icon",{attrs:{color:"orange"}},[t._v("mdi-alert-circle")]),t._v(" "+t._s(t.fileData.nan_count)+" rows are missing data. ")],1):t._e(),t.alerts.missingData?t._e():e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" All rows have complete data. ")],1)]),e("div",[t.alerts.textData?e("div",[e("v-icon",{attrs:{color:"orange"}},[t._v("mdi-alert-circle")]),t._v(" "+t._s(t.fileData.invalid_columns.length)+" column"),t.fileData.invalid_columns.length>1?e("span",[t._v("s")]):t._e(),t._v(" ( "),t._l(t.fileData.invalid_columns,(function(a,s){return e("v-chip",{key:s,attrs:{dark:"",small:"",color:"orange lighten-3"}},[t._v(t._s(a))])})),t._v(" ) has non-numerical data. MILO can only use numerical data. ")],2):t._e(),t.alerts.textData?t._e():e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" All rows have numerical data. ")],1)])]),e("div")],1):t._e()])},U=[],G={name:"DataValidation",props:["fileData","dataType"],data:function(){return{rules:{maxFeatures:2e3,maxTrainingRows:5e3,maxTestingRows:2e4},alerts:{missingData:!1,textData:!1,maxFeatures:!1,maxTrainingRows:!1,maxTestingRows:!1,moreColthanRow:!1}}},watch:{fileData:function(t,a){console.log("Prop changed: ",t," | was: ",a),this.validateData()}},mounted:function(){this.validateData()},methods:{validateData:function(){if(null!=this.fileData){this.fileData.nan_count>0?this.alerts.missingData=!0:this.alerts.missingData=!1,this.fileData.invalid_columns.length>0?this.alerts.textData=!0:this.alerts.textData=!1,this.fileData.columns>this.rules.maxFeatures?this.alerts.maxFeatures=!0:this.alerts.maxFeatures=!1,this.fileData.columns>this.fileData.rows?this.alerts.moreColthanRow=!0:this.alerts.moreColthanRow=!1,"training"==this.dataType&&(this.fileData.rows>this.rules.maxTrainingRows?this.alerts.maxTrainingRows=!0:this.alerts.maxTrainingRows=!1),"testing"==this.dataType&&(this.fileData.rows>this.rules.maxTestingRows?this.alerts.maxTestingRows=!0:this.alerts.maxTestingRows=!1);var t=!0;this.$emit("dataValid",{bool:t,alerts:this.alerts})}}}},X=G,J=e("cc20"),q=Object(u["a"])(X,H,U,!1,null,null,null),W=q.exports;m()(q,{VCard:k["a"],VChip:J["a"],VIcon:v["a"]});var Y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mb-3"},[e("div",{staticClass:"title primary--text"},[e("v-chip",{staticClass:"mt-n1",attrs:{dark:"",color:"primary"}},[t._v(t._s(t.stepNumber))]),e("span",{staticClass:"ml-2"},[t._v(t._s(t.stepTitle))])],1)])},K=[],Q={name:"StepHeading",props:["stepNumber","stepTitle"],data:function(){return{}}},Z=Q,tt=Object(u["a"])(Z,Y,K,!1,null,null,null),at=tt.exports;m()(tt,{VChip:J["a"]});var et=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-alert",{staticClass:"ml-5",attrs:{dense:"",text:"",color:"primary"}},[t._v(" "+t._s(t.message)+" "),1!=t.decision?e("v-btn",{staticClass:"ml-3",attrs:{text:""},on:{click:function(a){return t.decide(!0)}}},[t._v(" "+t._s(t.trueVal)+" ")]):t._e(),1==t.decision?e("v-btn",{staticClass:"ml-3",attrs:{text:"",dark:"",color:"primary"},on:{click:function(a){return t.decide(!0)}}},[t._v(" "+t._s(t.trueVal)+" ")]):t._e(),0!=t.decision?e("v-btn",{attrs:{text:""},on:{click:function(a){return t.decide(!1)}}},[t._v(" "+t._s(t.falseVal)+" ")]):t._e(),0==t.decision?e("v-btn",{attrs:{text:"",dark:"",color:"primary"},on:{click:function(a){return t.decide(!1)}}},[t._v(" "+t._s(t.falseVal)+" ")]):t._e()],1)},st=[],it={name:"Decision",props:["decision","trueVal","falseVal","message"],data:function(){return{}},methods:{decide:function(t){this.$emit("decide",t)}}},nt=it,lt=e("0798"),ot=Object(u["a"])(nt,et,st,!1,null,null,null),rt=ot.exports;m()(ot,{VAlert:lt["a"],VBtn:p["a"]});var ct=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-dialog",{model:{value:t.isOpen,callback:function(a){t.isOpen=a},expression:"isOpen"}},[e("v-card",{staticClass:"text-center pa-10 loaders-transition"},[1==t.loading?e("v-progress-circular",{attrs:{color:"blue",size:"160",width:"15",indeterminate:""}},[t._v(" Processing ")]):t._e(),0==t.loading?e("div",[e("v-icon",{staticClass:"loaders-transition",staticStyle:{"font-size":"160px"},attrs:{color:"green"}},[t._v("mdi-check-circle-outline")]),e("div",{staticClass:"display-1"},[e("v-icon",{attrs:{"x-large":""}},[t._v("mdi-arrow-down")]),t._v(" Your files are available below. "),e("v-icon",{attrs:{"x-large":""}},[t._v("mdi-arrow-down")])],1),e("div",{staticClass:"mt-5"},[e("v-btn",{staticClass:"primary",on:{click:function(a){t.isOpen=!1}}},[t._v("Edit output")]),e("v-btn",{on:{click:function(a){return t.$router.push({name:"Landing"})}}},[t._v("Exit tool")])],1)],1):t._e()],1)],1)},ut=[],dt={name:"X",props:["isOpen","loading"],data:function(){return{}}},mt=dt,pt=e("169a"),vt=e("490a"),ht=Object(u["a"])(mt,ct,ut,!1,null,null,null),gt=ht.exports;m()(ht,{VBtn:p["a"],VCard:k["a"],VDialog:pt["a"],VIcon:v["a"],VProgressCircular:vt["a"]});var _t=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",{staticClass:"ma-3 pa-3 text-center",attrs:{flat:"",outlined:""}},[e("div",[e("v-icon",{attrs:{"x-large":""}},[t._v(t._s(t.icon))]),e("span",{staticClass:"title"},[t._v(t._s(t.title))])],1),e("div",{staticClass:"ma-3"},[t._v(" "+t._s(t.description)+" ")]),e("v-row",[e("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[e("v-btn",{attrs:{text:""},on:{click:function(a){return t.$router.push({name:"Landing"})}}},[e("v-icon",[t._v("mdi-arrow-left")]),t._v(" Home ")],1)],1),e("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[e("v-btn",{attrs:{text:""},on:{click:t.resetTool}},[e("v-icon",[t._v("mdi-restart")]),t._v(" Reset Tool ")],1)],1)],1)],1)},ft=[],Ct={name:"MenuBar",props:["title","icon","description"],data:function(){return{}},methods:{resetTool:function(){this.$emit("reset")}}},bt=Ct,xt=Object(u["a"])(bt,_t,ft,!1,null,null,null),St=xt.exports;m()(xt,{VBtn:p["a"],VCard:k["a"],VCol:z["a"],VIcon:v["a"],VRow:P["a"]});var wt={name:"Home",components:{DataValidation:W,StepHeading:at,Decision:rt,FileProcessingDialog:gt,MenuBar:St},data:function(){return{file:"",loading:!1,serverData:null,trainingFileData:null,trainingMetadata:null,trainingDataLoading:!1,trainingDataValid:!0,testingFile:null,testingFileData:null,testingMetadata:null,testingDataLoading:!1,testingDataValid:!0,miloMetadata:null,miloDataLoading:!1,targetColumnList:null,nontargetColumnList:null,target:null,targetValid:null,toggle:null,selectedColumns:[],errorColumns:null,confirmColumnSelection:!1,trainingOutputFilename:"",testingOutputFilename:"",fileProcessingDialog:!1,fileProcessingInProgress:!0,miloColumns:[],miloDialog:!1}},sockets:{connect:function(){console.log("socket connected")},customEmit:function(t){this.serverData=t,this.loading=!1}},computed:{dataColumnsMatch:function(){if(null!=this.trainingMetadata&&null!=this.testingMetadata){var t=this.trainingMetadata.columns==this.testingMetadata.columns,a=E["a"].difference(this.trainingMetadata.column_names,this.testingMetadata.column_names),e=E["a"].difference(this.testingMetadata.column_names,this.trainingMetadata.column_names),s=0==e.length&&0==a.length;return{numberOfColumnsMatch:t,columnNamesMatch:s,inTrainNotTest:a,inTestNotTrain:e}}return null},stepNumber:function(){return this.showStep4?4:this.showStep3?3:this.showStep2?2:1},showStep2:function(){return null!=this.trainingMetadata&&0==this.testingFile||!(null==this.trainingMetadata||1!=this.testingFile||null==this.testingMetadata||!this.dataColumnsMatch.numberOfColumnsMatch||!this.dataColumnsMatch.columnNamesMatch)},showStep3:function(){return!(!this.showStep2||null==this.target||1!=this.targetValid)},showStep4:function(){return!!(this.showStep3&&this.selectedColumns.length>0&&this.confirmColumnSelection)}},methods:{dataFileUploadTraining:function(t){var a=this;null!=t?(this.trainingDataLoading=!0,this.dataFileUpload(t,"training_data").then((function(t){a.trainingMetadata=t.data,a.trainingDataLoading=!1,a.trainingOutputFilename=a.trainingFileData.name.replace(".csv","")+"_reduced";var e=function(t){return t};a.targetColumnList=a.trainingMetadata.column_names.map(e),a.targetColumnList=a.targetColumnList.reverse()}))):this.resetStep1Training()},dataFileUploadTesting:function(t){var a=this;null!=t?(this.testingDataLoading=!0,this.dataFileUpload(t,"testing_data").then((function(t){a.testingMetadata=t.data,a.testingDataLoading=!1,a.testingOutputFilename=a.testingFileData.name.replace(".csv","")+"_reduced"}))):this.testingMetadata=null},dataFileUpload:function(t,a){var e=this;if(null!=t){var s=new FormData;return s.append("file",t),B.a.post("/data_file_upload",s,{headers:{"Content-Type":"multipart/form-data","X-filename":t.name,"X-filegroup":a}}).then((function(t){return t}))["catch"]((function(){e.$store.commit("snackbarMessageSet",{color:"red lighten-1",message:"Error processing file."})}))}return"nothing"},dataValidationTrainingData:function(t){this.trainingDataValid=t},dataValidationTestingData:function(t){this.testingDataValid=t},processFiles:function(){var t=this,a={};return a.training_storage_id=this.trainingMetadata.storage_id,a.testing_storage_id=null!=this.testingMetadata?this.testingMetadata.storage_id:null,a.selected_columns=this.selectedColumns,a.target_column=this.target,this.fileProcessingDialog=!0,this.fileProcessingInProgress=!0,B.a.post("/column_reducer/process",a,{headers:{"Content-Type":"application/json"}}).then((function(a){t.fileProcessingInProgress=!1,A()(a.data.training,t.trainingOutputFilename+".csv"),"null"!=a.data.testing&&A()(a.data.testing,t.testingOutputFilename+".csv")}))},resetStep1Training:function(){this.trainingFileData=null,this.trainingMetadata=null,this.trainingDataValid=!0,this.targetColumnList=null,this.nontargetColumnList=null,this.trainingOutputFilename="",this.testingFile=null,this.fileProcessingDialog=!1,this.resetStep1Testing(),this.resetStep2()},resetStep1Testing:function(){this.testingFileData=null,this.testingMetadata=null,this.testingDataValid=!0,this.testingOutputFilename=""},resetStep2:function(){this.target=null,this.targteValid=null,this.resetStep3()},resetStep3:function(){this.selectedColumns=[],this.errorColumns=null,this.confirmColumnSelection=!1,this.resetStep4()},resetStep4:function(){console.log("nothing")},splitPasted:function(){var t=this;this.selectedColumns.forEach((function(a,e){if(a.includes(",")){console.log("comma detected",a,e);var s=a.split(",");s.map((function(t){return t.trim()})),t.selectedColumns.splice(e,1,s)}})),this.selectedColumns=this.selectedColumns.flat(),this.errorColumns=[],this.selectedColumns.forEach((function(a){t.nontargetColumnList.includes(a)||t.errorColumns.push(a)})),this.errorColumns.forEach((function(a){var e=t.selectedColumns.indexOf(a);t.selectedColumns.splice(e,1)})),0==this.errorColumns.length&&(this.errorColumns=null),this.selectedColumns=E["a"].uniq(this.selectedColumns),console.log(this.selectedColumns)},targetColumnChanged:function(t){var a=this;if(null==t)this.resetStep2();else{var e={target:this.target,storage_id:this.trainingMetadata.storage_id};B.a.post("/validate/target_column",e,{headers:{"Content-Type":"application/json","X-inbound":"validation"}}).then((function(t){a.targetValid=t.data.validation})),this.nontargetColumnList=[],this.trainingMetadata.column_names.forEach((function(e){e!=t&&a.nontargetColumnList.push(e)}))}},testEmit:function(){this.$socket.emit("custom"),this.loading=!0},miloFileUpload:function(t){var a=this;if(null!=t){var e=new FormData;this.miloDataLoading=!0,e.append("file",t),B.a.post("data_upload",e,{headers:{"Content-Type":"multipart/form-data","X-inbound":"milo_file"}}).then((function(t){a.miloMetadata=[];var e=JSON.parse(t.data.result).selected_features;for(var s in e)a.miloMetadata.push({text:s,value:JSON.parse(e[s])});a.miloDataLoading=!1}))}else this.miloMetadata=null,this.miloDataLoading=!1},setMiloColumns:function(){this.selectedColumns=this.miloColumns,console.log(this.selectedColumns),this.miloDialog=!1},proceedToStep4:function(){this.confirmColumnSelection=!0,window.scrollTo(0,document.body.scrollHeight)},setTransparencyFromStepProgress:function(t){return this.stepNumber>t?.7:1},setTestingFileState:function(t){console.log(t),this.testingFile=t}}},Dt=wt,Mt=e("c6a6"),Ft=e("99d9"),Tt=e("2b5d"),yt=e("23a7"),Vt=e("a722"),kt=e("8e36"),zt=e("b974"),Ot=e("2fa4"),Pt=e("8654"),Lt=Object(u["a"])(Dt,N,$,!1,null,null,null),Rt=Lt.exports;m()(Lt,{VAlert:lt["a"],VAutocomplete:Mt["a"],VBtn:p["a"],VCard:k["a"],VCardActions:Ft["a"],VCardText:Ft["b"],VCardTitle:Ft["c"],VChip:J["a"],VCol:z["a"],VCombobox:Tt["a"],VContainer:O["a"],VDialog:pt["a"],VFileInput:yt["a"],VIcon:v["a"],VLayout:Vt["a"],VProgressCircular:vt["a"],VProgressLinear:kt["a"],VRow:P["a"],VSelect:zt["a"],VSpacer:Ot["a"],VTextField:Pt["a"]});var Nt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("MenuBar",{attrs:{title:"Train and Test Builder",icon:"mdi-call-split",description:"This tool allows you to build both a training and validation data set from a single data file."},on:{reset:t.resetStep1}}),e("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[e("StepHeading",{attrs:{stepNumber:"1",stepTitle:"Select Data File"}}),e("div",[e("v-card",{staticClass:"ma-5 pa-3",attrs:{outlined:""}},[e("div",{staticClass:"overline ml-5 mb-3"},[t._v(" Single Data File ")]),e("v-layout",{staticClass:"ml-5"},[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"100",outlined:"",label:"Training Data File"},on:{change:t.fileUpload},model:{value:t.file,callback:function(a){t.file=a},expression:"file"}})],1),e("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[t.fileDataLoading?e("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}}):t._e(),e("DataValidation",{staticClass:"mt-n3",attrs:{fileData:t.fileData,dataType:"combined"},on:{dataValid:t.fileValidationData}})],1)],1)],1)],1),t.fileDataValid&&t.fileDataValid.alerts.textData?e("ErrorMessage",{attrs:{type:"error",text:"Milo cannot use columns with non-numerical data. We advise fixing this before proceeding."}}):t._e()],1)],1),t.showStep2?e("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[e("StepHeading",{attrs:{stepNumber:"2",stepTitle:"Select Target Column"}}),e("div",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[t.fileData?e("v-select",{attrs:{clearable:"",outlined:"",label:"Target Column","prepend-icon":"mdi-bullseye",items:t.fileData.column_names},on:{change:t.determineClassMetadata},model:{value:t.targetColumn,callback:function(a){t.targetColumn=a},expression:"targetColumn"}}):t._e()],1)],1),t.class0nanSize>0||t.class1nanSize>0?e("v-alert",{attrs:{dense:"",text:"",type:"warning"}},[t._v(" Rows with missing data will be dropped during processing. "),t.class0nanSize>0?e("div",[1==t.class0nanSize?e("span",[t._v("For class 0: "+t._s(t.class0nanSize)+" row is excluded.")]):t._e(),t.class0nanSize>1?e("span",[t._v("For class 0: "+t._s(t.class0nanSize)+" rows are excluded. ")]):t._e(),t._v(" ( "),e("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(t._s(t.class0size))]),e("v-icon",{attrs:{color:"orange"}},[t._v("mdi-arrow-right")]),t._v(" "+t._s(t.class0size-t.class0nanSize)+" ) ")],1):t._e(),t.class1nanSize>0?e("div",[1==t.class1nanSize?e("span",[t._v("For class 1: "+t._s(t.class1nanSize)+" row is excluded.")]):t._e(),t.class1nanSize>1?e("span",[t._v("For class 1: "+t._s(t.class1nanSize)+" rows are excluded.")]):t._e(),t._v(" ( "),e("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(t._s(t.class1size))]),e("v-icon",{attrs:{color:"orange"}},[t._v("mdi-arrow-right")]),t._v(" "+t._s(t.class1size-t.class1nanSize)+" ) ")],1):t._e()]):t._e(),e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"distrobution-box",style:{background:"#2196F3",width:t.class0percent+"%"}},[e("div",{staticClass:"distrobution-box",style:{opacity:.3,background:"white",width:t.class0nanPercent+"%",position:"absolute",left:"16px",bottom:"15px"}}),e("p",{staticClass:"pa-0 ma-0"},[t._v(" Class 0 ("+t._s(t.class0percent)+"%) ")]),0==t.class0nanSize?e("p",{staticClass:"pa-0 ma-0"},[t._v(" N="+t._s(t.class0size)+" ")]):t._e(),t.class0nanSize>0?e("p",{staticClass:"pa-0 ma-0"},[e("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(t._s(t.class0size))]),e("v-icon",{attrs:{color:"white"}},[t._v("mdi-arrow-right")]),t._v(" "+t._s(t.class0size-t.class0nanSize)+" ")],1):t._e()]),e("div",{staticClass:"distrobution-box",style:{background:"#009688",width:t.class1percent+"%"}},[e("div",{staticClass:"distrobution-box",style:{opacity:.3,background:"white",width:t.class1nanPercent+"%",position:"absolute",right:"16px",bottom:"15px"}}),e("p",{staticClass:"pa-0 ma-0"},[t._v(" Class 1 ("+t._s(t.class1percent)+"%) ")]),0==t.class1nanSize?e("p",{staticClass:"pa-0 ma-0"},[t._v(" N="+t._s(t.class1size)+" ")]):t._e(),t.class1nanSize>0?e("p",{staticClass:"pa-0 ma-0"},[e("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(t._s(t.class1size))]),e("v-icon",{attrs:{color:"white"}},[t._v("mdi-arrow-right")]),t._v(" "+t._s(t.class1size-t.class1nanSize)+" ")],1):t._e()]),e("div",{staticClass:"distrobution-box",style:{background:"#d3d3d3",width:t.placeholderSlot+"%"}},[t._v("Data Distrobution Displayed After Selection")])]),t.minSampleSizeError?e("ErrorMessage",{attrs:{type:"error",text:"To use this tool, each class must have a an N greater than "+t.minSampleSize}}):t._e()],1)],1):t._e(),t.showStep3?e("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[e("StepHeading",{attrs:{stepNumber:"3",stepTitle:"Select Split"}}),e("div",[t.classMetadata?e("ClassGroupBar",{attrs:{metadata:t.classMetadata},on:{calculation:t.receiveClassGroupBarData}}):t._e()],1)],1):t._e(),t.showStep4?e("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[e("StepHeading",{attrs:{stepNumber:"4",stepTitle:"Output Files"}}),e("div",[e("div",[e("v-switch",{attrs:{label:"Include row index in output"},model:{value:t.outputSettings.includeRowIndex,callback:function(a){t.$set(t.outputSettings,"includeRowIndex",a)},expression:"outputSettings.includeRowIndex"}})],1),e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{outlined:"",dense:"",label:"Training Data File Name",suffix:".csv"},model:{value:t.outputFiles.training,callback:function(a){t.$set(t.outputFiles,"training",a)},expression:"outputFiles.training"}})],1),e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{outlined:"",dense:"",label:"Testing Data File Name",suffix:".csv"},model:{value:t.outputFiles.testing,callback:function(a){t.$set(t.outputFiles,"testing",a)},expression:"outputFiles.testing"}})],1)],1),e("div",[e("div",{staticClass:"overline"},[t._v("Additional File Outputs")]),e("v-row",[t.splitData&&t.splitData.extraCount>0?e("v-col",{attrs:{cols:"6"}},[e("v-switch",{attrs:{label:"Export unused data."},model:{value:t.outputSettings.extraFile,callback:function(a){t.$set(t.outputSettings,"extraFile",a)},expression:"outputSettings.extraFile"}}),t.outputSettings.extraFile?e("v-text-field",{attrs:{outlined:"",dense:"",label:"Extra Data File",suffix:".csv"},model:{value:t.outputFiles.extra,callback:function(a){t.$set(t.outputFiles,"extra",a)},expression:"outputFiles.extra"}}):t._e()],1):t._e(),t.fileData.nan_count>0?e("v-col",{attrs:{cols:"6"}},[e("div",[e("v-switch",{attrs:{label:"Export rows with missing data."},model:{value:t.outputSettings.nanFile,callback:function(a){t.$set(t.outputSettings,"nanFile",a)},expression:"outputSettings.nanFile"}})],1),t.outputSettings.nanFile?e("v-text-field",{attrs:{outlined:"",dense:"",label:"Rows with Missing Data File",suffix:".csv"},model:{value:t.outputFiles.nan,callback:function(a){t.$set(t.outputFiles,"nan",a)},expression:"outputFiles.nan"}}):t._e()],1):t._e()],1)],1),e("div",{staticClass:"text-right"},[e("v-btn",{attrs:{dark:"",rounded:"",float:"right",color:"primary"},on:{click:function(a){return t.processFiles()}}},[t._v(" Create Files "),e("v-icon",{staticClass:"pl-2"},[t._v("mdi-file")])],1)],1)],1)],1):t._e(),e("FileProcessingDialog",{attrs:{isOpen:t.fileProcessingDialog,loading:t.fileProcessingInProgress}})],1)},$t=[],It=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-alert",{attrs:{type:t.type,text:"",dense:""}},[t._v(" "+t._s(t.text)+" ")])],1)},Bt=[],Et={name:"X",props:["text","type"],data:function(){return{}}},jt=Et,At=Object(u["a"])(jt,It,Bt,!1,null,null,null),Ht=At.exports;m()(At,{VAlert:lt["a"]});var Ut=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[t._v(" Use the slider to adjust your training data class size. ")]),e("v-row",[e("v-col",{attrs:{cols:"5"}},[e("v-slider",{attrs:{min:t.minSampleSize,max:t.maxSampleSize},on:{change:t.calculateGroupCounts},model:{value:t.trainingClassSize,callback:function(a){t.trainingClassSize=a},expression:"trainingClassSize"}})],1),e("v-col",{attrs:{cols:"1"}},[t._v(" "+t._s(t.trainingClassSize)+" ")])],1),e("div",[t.trainingClassSize<50?e("v-alert",{attrs:{type:"warning",text:""}},[t._v(" We recommend a minimum training class size of 50. "),t.maxSampleSize<50?e("span",[t._v(" However, we also require a minimum generalization class size of 25.")]):t._e()]):t._e()],1),e("div",[t._v(" Select how you would like to use remain data in the global generalization testing set. ")]),e("v-radio-group",{on:{change:t.calculateGroupCounts},model:{value:t.prevalenceOption,callback:function(a){t.prevalenceOption=a},expression:"prevalenceOption"}},[e("v-radio",{attrs:{label:"Use All Remaining Data After Training Data Removed"}}),e("v-radio",{attrs:{label:"Maintain Original Prevalence in Validation File (some data may be excluded)"}})],1),e("div",{staticStyle:{width:"100%"}},[e("div",[e("div",{staticClass:"title-box",style:{background:"white",width:t.countToPercent(t.counts.nan,t.counts.total)+"%"}}),e("div",{staticClass:"title-box",style:{background:"#7E57C2",width:t.countToPercent(t.counts.train1,t.counts.total)+t.countToPercent(t.counts.train0,t.counts.total)+"%"}},[t._v(" Training Data ")]),e("div",{staticClass:"title-box",style:{background:"#5C6BC0",width:t.countToPercent(t.counts.test1,t.counts.total)+t.countToPercent(t.counts.test0,t.counts.total)+"%"}},[t._v(" Generalization Testing Data ")])]),e("div",{staticStyle:{width:"100%"}},[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("div",t._g(t._b({staticClass:"distrobution-box",style:{background:"grey",width:t.countToPercent(t.counts.nan,t.counts.total)+"%"}},"div",i,!1),s),[e("div",[t._v(" Miss Data ")]),e("div",[t._v("n="+t._s(t.counts.nan))])])]}}])},[e("span",[t._v(t._s(t.counts.nan)+" rows are missing data and cannot be used in the final data set")])]),e("div",{staticClass:"distrobution-box",style:{background:"#64B5F6",width:t.countToPercent(t.counts.train0,t.counts.total)+"%"}},[e("div",[t._v("Train 0")]),e("div",[t._v("n="+t._s(t.counts.train0))])]),e("div",{staticClass:"distrobution-box",style:{background:"#4DB6AC",width:t.countToPercent(t.counts.train1,t.counts.total)+"%"}},[e("div",[t._v("Train 1")]),e("div",[t._v("n="+t._s(t.counts.train1))])]),e("div",{staticClass:"distrobution-box",style:{background:"#42A5F5",width:t.countToPercent(t.counts.test0,t.counts.total)+"%"}},[e("div",[t._v("Test 0")]),e("div",[t._v("n="+t._s(t.counts.test0))])]),e("div",{staticClass:"distrobution-box",style:{background:"#26A69A",width:t.countToPercent(t.counts.test1,t.counts.total)+"%"}},[e("div",[t._v("Test 1")]),e("div",[t._v("n="+t._s(t.counts.test1))])]),e("div",{staticClass:"distrobution-box",style:{background:"#F48FB1",width:t.countToPercent(t.counts.extra,t.counts.total)+"%"}},[e("div",[t._v("Not Used")]),e("div",[t._v("n="+t._s(t.counts.extra))])])],1)])],1)},Gt=[],Xt={name:"ClassGroupBar",props:["metadata"],data:function(){return{prevalenceOption:0,minSampleSize:25,maxSampleSize:5e3,trainingClassSize:50,minBoxSize:10,counts:{nan:0,class0:0,class1:0,train0:0,train1:0,test0:0,test1:0,extra:0,total:1},prevalence:{class0:0,class1:0}}},computed:{scaleFactorForMinBoxes:function(){var t=100;for(var a in this.counts)if("total"!=a){var e=this.counts[a],s=e/this.counts.total*100;s<=this.minBoxSize&&s>0&&(t=t-(this.minBoxSize-s)-3)}return t/100}},mounted:function(){this.calculateClassCounts(),this.findTrainingClassSampleSize(),this.calculateMaxSampleSize(),this.calculateGroupCounts()},methods:{calculateClassCounts:function(){console.log(this.metadata),this.counts.total=this.metadata.total_count,this.counts.nan=this.metadata.nan_class_counts[0]+this.metadata.nan_class_counts[1],this.counts.class0=this.metadata.class_counts[0]-this.metadata.nan_class_counts[0],this.counts.class1=this.metadata.class_counts[1]-this.metadata.nan_class_counts[1],this.prevalence.class0=this.counts.class0/(this.counts.total-this.counts.nan),this.prevalence.class1=this.counts.class1/(this.counts.total-this.counts.nan)},calculateGroupCounts:function(){this.counts.train0=this.trainingClassSize,this.counts.train1=this.trainingClassSize,0==this.prevalenceOption?(this.counts.test0=this.counts.class0-this.trainingClassSize,this.counts.test1=this.counts.class1-this.trainingClassSize,this.counts.extra=0):1==this.prevalenceOption&&(this.prevalence.class0<.5?(this.counts.test0=this.counts.class0-this.trainingClassSize,this.counts.test1=Math.round(this.counts.test0/this.prevalence.class0-this.counts.test0),this.counts.extra=this.counts.total-this.counts.nan-this.counts.train0-this.counts.train1-this.counts.test0-this.counts.test1):this.prevalence.class1<.5?(this.counts.test1=this.counts.class1-this.trainingClassSize,this.counts.test0=Math.round(this.counts.test1/this.prevalence.class1-this.counts.test1),this.counts.extra=this.counts.total-this.counts.nan-this.counts.train0-this.counts.train1-this.counts.test0-this.counts.test1):.5==this.prevalence.class0&&(this.counts.test0=this.counts.class0-this.trainingClassSize,this.counts.test1=this.counts.class1-this.trainingClassSize,this.counts.extra=0)),this.reportData()},countToPercent:function(t,a){var e=t/a*100;return 0==t?0:e<=this.minBoxSize?this.minBoxSize:e*this.scaleFactorForMinBoxes},findTrainingClassSampleSize:function(){var t=this.prevalence.class0<.5?this.counts.class0:this.counts.class1,a=Math.round(t/2);this.minSampleSize>a?this.trainingClassSize=this.minSampleSize:this.trainingClassSize=a},calculateMaxSampleSize:function(){var t=this.prevalence.class0<.5?this.counts.class0:this.counts.class1;this.maxSampleSize=t-this.minSampleSize>2500?2500:t-this.minSampleSize},reportData:function(){var t={prevalenceOption:this.prevalenceOption,trainingClassSize:this.trainingClassSize,extraCount:this.counts.extra};this.$emit("calculation",t)}}},Jt=Xt,qt=e("67b6"),Wt=e("43a6"),Yt=e("ba0d"),Kt=e("3a2f"),Qt=Object(u["a"])(Jt,Ut,Gt,!1,null,null,null),Zt=Qt.exports;m()(Qt,{VAlert:lt["a"],VCol:z["a"],VRadio:qt["a"],VRadioGroup:Wt["a"],VRow:P["a"],VSlider:Yt["a"],VTooltip:Kt["a"]});var ta={name:"TrainTestSplit",components:{DataValidation:W,StepHeading:at,ErrorMessage:Ht,ClassGroupBar:Zt,MenuBar:St,FileProcessingDialog:gt},data:function(){return{e1:1,file:null,fileData:null,fileDataValid:null,fileDataLoading:!1,prevalenceOption:0,targetColumn:null,targetColumnList:[],classMetadata:null,class0size:0,class0percent:0,class0nanSize:0,class0nanPercent:0,class1size:0,class1percent:0,class1nanSize:0,class1nanPercent:0,placeholderSlot:100,splitData:null,outputFiles:{training:null,testing:null,nan:null,extra:null},outputSettings:{includeRowIndex:!1,nanFile:!1,extraFile:!1},fileProcessingDialog:!1,fileProcessingInProgress:!1}},computed:{showStep2:function(){return!(null==this.fileData||!this.fileDataValid||!this.fileDataValid.bool)},showStep3:function(){return!(!this.showStep2||null==this.targetColumn||this.minSampleSizeError)},showStep4:function(){return!!this.showStep3},minSampleSizeError:function(){return null!=this.classMetadata&&(this.classMetadata.class_counts[0]<this.minSampleSize||this.classMetadata.class_counts[1]<this.minSampleSize)}},methods:{resetStep1:function(){this.file=null,this.fileData=null,this.fileDataValid=null,this.targetColumnList=[],this.resetStep2()},resetStep2:function(){this.targetColumn=null,this.classMetadata=null,this.class0size=0,this.class0percent=0,this.class0nanSize=0,this.class0nanPercent=0,this.class1size=0,this.class1percent=0,this.class1nanSize=0,this.class1nanPercent=0,this.placeholderSlot=100,this.resetStep3()},resetStep3:function(){console.log("reset step 3"),this.splitData=null},fileUpload:function(t){var a=this;if(null!=t){var e=new FormData;this.fileDataLoading=!0,e.append("file",t),B.a.post("/data_file_upload",e,{headers:{"Content-Type":"multipart/form-data","X-filename":t.name,"X-filegroup":"train_test_split"}}).then((function(t){a.fileDataLoading=!1,a.fileData=t.data,a.targetColumnList=a.fileData.column_names.reverse()}))["catch"]((function(){a.fileDataLoading=!1,a.$store.commit("snackbarMessageSet",{color:"red lighten-1",message:"Error processing file."}),a.resetStep1()}))}else this.fileDataLoading=!1,this.resetStep1()},fileValidationData:function(t){console.log(t),this.fileDataValid=t},determineClassMetadata:function(t){var a=this;if(null!=t){var e={target_column:this.targetColumn,storage_id:this.fileData.storage_id};return B.a.post("train_test_split/metadata",e,{headers:{"Content-Type":"application/json"}}).then((function(t){a.classMetadata=t.data,console.log(t.data),a.classMetadata.class_counts=JSON.parse(a.classMetadata.class_counts),null!=a.classMetadata.nan_class_counts&&(a.classMetadata.nan_class_counts=JSON.parse(a.classMetadata.nan_class_counts)),a.calculateMetadataMetrics(),a.makeFileNames()}))["catch"]((function(){a.$store.commit("snackbarMessageSet",{color:"red lighten-1",message:"Invalid column selection. Values are not binary."}),a.resetStep2()}))}this.resetStep2()},receiveClassGroupBarData:function(t){this.splitData=t},makeFileNames:function(){var t=this.file.name.trim();t=t.replace(".csv",""),t=t.trim(),this.outputFiles.training=t+"_training",this.outputFiles.testing=t+"_testing",this.outputFiles.extra=t+"_extra",this.outputFiles.nan=t+"_missing_data"},processFiles:function(){var t=this,a={target_column:this.targetColumn,storage_id:this.fileData.storage_id,majority_class:this.classMetadata.majority_class,training_class_sample_size:this.splitData.trainingClassSize,prevalence_option:this.splitData.prevalenceOption,extra:this.splitData.extraCount,include_index:this.outputSettings.includeRowIndex};return console.log(a),this.fileProcessingDialog=!0,this.fileProcessingInProgress=!0,B.a.post("train_test_split/process",a,{headers:{"Content-Type":"application/json"}}).then((function(a){if(console.log(a),t.fileProcessingInProgress=!1,A()(a.data.training,t.outputFiles.training+".csv"),A()(a.data.testing,t.outputFiles.testing+".csv"),t.outputSettings.extraFile&&A()(a.data.extra,t.outputFiles.extra+".csv"),t.outputSettings.nanFile)try{A()(a.data.nan,t.outputFiles.nan+".csv")}catch(e){console.log("error")}}))},calculateMetadataMetrics:function(){this.class0size=this.classMetadata.class_counts[0],this.class1size=this.classMetadata.class_counts[1],this.class0percent=Math.round(this.classMetadata.class_counts[0]/this.classMetadata.total_count*1e3)/10,this.class1percent=Math.round(this.classMetadata.class_counts[1]/this.classMetadata.total_count*1e3)/10,this.placeholderSlot=0,null!=this.classMetadata.nan_class_counts&&(this.class0nanSize=this.classMetadata.nan_class_counts[0],this.class0nanPercent=Math.round(this.classMetadata.nan_class_counts[0]/this.classMetadata.class_counts[0]*1e3)/10,this.class1nanSize=this.classMetadata.nan_class_counts[1],this.class1nanPercent=Math.round(this.classMetadata.nan_class_counts[1]/this.classMetadata.class_counts[1]*1e3)/10)}}},aa=ta,ea=(e("7886"),e("b73d")),sa=Object(u["a"])(aa,Nt,$t,!1,null,null,null),ia=sa.exports;m()(sa,{VAlert:lt["a"],VBtn:p["a"],VCard:k["a"],VCol:z["a"],VContainer:O["a"],VFileInput:yt["a"],VIcon:v["a"],VLayout:Vt["a"],VProgressCircular:vt["a"],VRow:P["a"],VSelect:zt["a"],VSwitch:ea["a"],VTextField:Pt["a"]}),s["a"].use(M["a"]);var na=[{path:"/columnreducer",name:"ColumnReducer",component:Rt},{path:"/traintestsplit",name:"TrainTestSplit",component:ia},{path:"/",name:"Landing",component:R}],la=new M["a"]({mode:"history",base:"/",routes:na}),oa=la,ra=e("2f62");s["a"].use(ra["a"]);var ca=new ra["a"].Store({state:{snackbarMessage:{show:!1,color:"blue",message:"Test message"}},mutations:{snackbarMessageSet:function(t,a){t.snackbarMessage.show=!0,t.snackbarMessage.message=a.message,t.snackbarMessage.color=a.color}},actions:{},modules:{}}),ua=e("f309");s["a"].use(ua["a"]);var da=new ua["a"]({});s["a"].config.productionTip=!1,new s["a"]({router:oa,store:ca,vuetify:da,render:function(t){return t(w)}}).$mount("#app")},7886:function(t,a,e){"use strict";e("b0e1")},b0e1:function(t,a,e){}});
//# sourceMappingURL=app.b7d1e640.js.map