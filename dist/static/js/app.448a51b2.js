(function(t){function a(a){for(var s,l,o=a[0],r=a[1],c=a[2],d=0,m=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&m.push(i[l][0]),i[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);u&&u(a);while(m.length)m.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],s=!0,o=1;o<e.length;o++){var r=e[o];0!==i[r]&&(s=!1)}s&&(n.splice(a--,1),t=l(l.s=e[0]))}return t}var s={},i={app:0},n=[];function l(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.m=t,l.c=s,l.d=function(t,a,e){l.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,a){if(1&a&&(t=l(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)l.d(e,s,function(a){return t[a]}.bind(null,s));return e},l.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(a,"a",a),a},l.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=a,o=o.slice();for(var c=0;c<o.length;c++)a(o[c]);var u=r;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",[e("v-main",[e("router-view")],1)],1)},n=[],l={name:"App",data:function(){return{}}},o=l,r=e("2877"),c=e("6544"),u=e.n(c),d=e("7496"),m=e("f6c4"),p=Object(r["a"])(o,i,n,!1,null,null,null),v=p.exports;u()(p,{VApp:d["a"],VMain:m["a"]});var h=e("9483");Object(h["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var g=e("8c4f"),f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-card",{staticClass:"pa-3 text-center display-1",attrs:{outlined:"",rounded:""}},[t._v(" Milo Preprocessing Tools ")]),e("v-row",[e("v-col",{staticClass:"mt-3",attrs:{cols:"6"}},[e("v-card",{staticClass:"pa-3 text-center",attrs:{hover:"",outlined:"",rounded:""},on:{click:function(a){return t.$router.push({name:"ColumnReducer"})}}},[e("v-icon",{attrs:{"x-large":""}},[t._v("mdi-table-column-width")]),e("span",{staticClass:"title"},[t._v("Column Reducer Tool")])],1)],1),e("v-col",{staticClass:"mt-3",attrs:{cols:"6"}},[e("v-card",{staticClass:"pa-3 text-center",attrs:{hover:"",outlined:"",rounded:""},on:{click:function(a){return t.$router.push({name:"TrainTestSplit"})}}},[e("v-icon",{attrs:{"x-large":""}},[t._v("mdi-call-split")]),e("span",{staticClass:"title"},[t._v("Train and Test Builder")])],1)],1)],1)],1)},_=[],C={name:"Landing",data:function(){return{}}},b=C,S=e("b0af"),M=e("62ad"),y=e("a523"),w=e("132d"),x=e("0fd9"),z=Object(r["a"])(b,f,_,!1,null,null,null),D=z.exports;u()(z,{VCard:S["a"],VCol:M["a"],VContainer:y["a"],VIcon:w["a"],VRow:x["a"]});var T=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{outlined:""}},[e("v-card",{staticClass:"ma-3 pa-3",attrs:{outlined:""}},[e("div",[e("v-row",[e("v-col",{attrs:{cols:"3"}},[e("v-btn",{attrs:{icon:""},on:{click:function(a){return t.$router.push({name:"Landing"})}}},[e("v-icon",[t._v("mdi-arrow-left")])],1)],1),e("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[e("v-icon",{attrs:{"x-large":""}},[t._v("mdi-table-column-width")]),e("span",{staticClass:"title"},[t._v("Column Reducer Tool")])],1),e("v-col",{attrs:{cols:"3"}})],1)],1),e("v-card-text",{staticClass:"body-1"},[t._v(" This tool allows to extract specific columns from your training and test data to experiment with further refinement of your model. ")])],1),e("v-card",{staticClass:"ma-3 pa-3 ",attrs:{outlined:""}},[e("v-card-title",{},[t._v(" Step 1 - Select Data File(s) ")]),e("v-card-text",{},[e("p",[t._v(" Select your training data file. You may also select a second testing data file. ")]),e("v-layout",{staticClass:"ma-5"},[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"100",outlined:"",label:"Training Data File"},on:{change:t.trainingFileUpload}}),t.trainingDataLoading?e("v-progress-linear",{attrs:{indeterminate:""}}):t._e(),null!=t.trainingMetadata?e("span",[t._v(" Columns: "+t._s(t.trainingMetadata.columns)+" | Rows: "+t._s(t.trainingMetadata.rows)+" ")]):t._e()],1),e("v-col",{attrs:{cols:"6"}},[e("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"100",outlined:"",label:"Testing Data File (optional)",disabled:null==t.trainingMetadata},on:{change:t.testingFileUpload}}),t.testingDataLoading?e("v-progress-linear",{attrs:{indeterminate:""}}):t._e(),null!=t.testingMetadata?e("span",[t._v(" Columns: "+t._s(t.testingMetadata.columns)+" | Rows: "+t._s(t.testingMetadata.rows)+" ")]):t._e()],1)],1)],1),null==t.dataColumnsMatch&&null!=t.trainingMetadata?e("div",{staticClass:"body-1"},[e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Valid Data File ")],1)]):t._e(),null!=t.dataColumnsMatch?e("div",{staticClass:"body-1"},[e("div",[t.dataColumnsMatch.numberOfColumnsMatch?e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Number of Columns Match Between Files ")],1):t._e(),t.dataColumnsMatch.numberOfColumnsMatch?t._e():e("div",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" Number of Columns Differ Between Files ")],1)]),e("div",[t.dataColumnsMatch.columnNamesMatch?e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Column Names Match Between Files ")],1):t._e(),t.dataColumnsMatch.columnNamesMatch?t._e():e("div",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" Column Names Differ Between Files "),e("div",{staticClass:"pl-10 pb-5"},[e("div",[t._v(" Columns in Test File Missing from Training: "),t._l(t.dataColumnsMatch.inTestNotTrain,(function(a,s){return e("v-chip",{key:s,attrs:{outlined:""}},[t._v(t._s(a))])}))],2),e("div",[t._v(" Columns in Training File Missing from Training: "),t._l(t.dataColumnsMatch.inTrainNotTest,(function(a,s){return e("v-chip",{key:s,attrs:{outlined:""}},[t._v(t._s(a))])}))],2)])],1)])]):t._e()],1)],1),t.trainingMetadata?e("v-card",{staticClass:"ma-3 pa-3"},[e("v-card-title",[t._v("Step 2 - Target Selection")]),e("v-card-text",[e("p",[t._v(" Identify the column containing your target variable to ensure it is maintain in the output. ")]),e("v-layout",{staticClass:"ma-5"},[e("v-row",{attrs:{wrap:""}},[e("v-col",{attrs:{cols:"6"}},[e("v-autocomplete",{attrs:{clearable:"",items:t.targetColumnList,outlined:"",label:"Target Column"},on:{change:t.targetColumnChanged},model:{value:t.target,callback:function(a){t.target=a},expression:"target"}})],1)],1)],1),null!=t.target?e("div",{staticClass:"body-1"},[e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Valid Target Field ")],1)]):t._e()],1)],1):t._e(),t.target?e("v-card",{staticClass:"ma-3 pa-3"},[e("v-card-title",[t._v("Step 3 - Column Selection")]),e("p",[t._v("Click below to selected columns or paste a comma seperated list of columns to be outputted. "),e("br"),t._v(" You can also "),e("a",{on:{click:function(a){t.miloDialog=!0}}},[t._v('import from a MILO results "report.csv" file')]),t._v(".")]),e("v-layout",{staticClass:"ma-5"},[e("v-row",{attrs:{wrap:""}},[e("v-col",{attrs:{cols:"12"}},[e("v-combobox",{staticClass:"ml-8",attrs:{clearable:"",multiple:"",chips:"",items:t.nontargetColumnList,outlined:"",label:"Selected Columns"},on:{change:function(a){return t.splitPasted()}},model:{value:t.selectedColumns,callback:function(a){t.selectedColumns=a},expression:"selectedColumns"}}),null==t.errorColumns&&t.selectedColumns.length>0?e("div",{staticClass:"body-1"},[e("div",[e("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Valid Column Selection ")],1)]):t._e(),null!=t.errorColumns?e("div",[t.errorColumns.length>0?e("div",[e("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),e("span",[t._v("The following column"),t.errorColumns.length>1?e("span",[t._v("s")]):t._e(),t._v(" are invalid and have been removed from the list:")]),t._l(t.errorColumns,(function(a,s){return e("v-chip",{key:s,attrs:{small:"",outlined:""}},[t._v(t._s(a))])}))],2):t._e()]):t._e(),e("p")],1)],1)],1),e("v-card-text")],1):t._e(),null==t.errorColumns&&t.selectedColumns.length>0?e("v-card",{staticClass:"ma-3 pa-3"},[e("v-card-title",[t._v("Step 4 - Save Files")]),e("v-card-text",[e("v-row",[e("v-col",{staticClass:"mr-0 pr-1",attrs:{cols:"5"}},[e("v-text-field",{attrs:{label:"Training Output",outlined:""},model:{value:t.trainingOutputFilename,callback:function(a){t.trainingOutputFilename=a},expression:"trainingOutputFilename"}})],1),e("v-col",{staticClass:"ml-0 pl-0 pt-7",attrs:{cols:"1"}},[e("div",{staticClass:"body-1 black--text"},[t._v(" .csv ")])]),e("v-col",{staticClass:"mr-0 pr-1",attrs:{cols:"5"}},[e("v-text-field",{attrs:{label:"Testing Output",outlined:""},model:{value:t.testingOutputFilename,callback:function(a){t.testingOutputFilename=a},expression:"testingOutputFilename"}})],1),e("v-col",{staticClass:"ml-0 pl-0 pt-7",attrs:{cols:"1"}},[e("div",{staticClass:"body-1 black--text"},[t._v(" .csv ")])])],1),e("v-btn",{attrs:{rounded:"",large:"",dark:"",color:"grey darken-3"},on:{click:t.finalFileRequests}},[t._v("Build New File"),null!=t.trainingMetadata?e("span",[t._v("s")]):t._e()])],1)],1):t._e(),e("v-dialog",{attrs:{"max-width":"700"},model:{value:t.miloDialog,callback:function(a){t.miloDialog=a},expression:"miloDialog"}},[e("v-card",{staticClass:"pa-3 pb-6",attrs:{flat:""}},[e("v-card-title",[e("p",[t._v('Import Columns from MILO Results "report.csv" File')]),e("v-spacer"),e("v-btn",{staticClass:"mt-n5",attrs:{icon:"",flat:""},on:{click:function(a){t.miloDialog=!1}}},[e("v-icon",{attrs:{medium:""}},[t._v("mdi-close")])],1)],1),e("v-card-text",{staticClass:"mx-0 py-0"},[e("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"200",outlined:"",label:"MILO Data File"},on:{change:t.miloFileUpload}}),t.miloDataLoading?e("v-progress-linear",{attrs:{indeterminate:""}}):t._e(),e("v-spacer"),e("div",[e("div",{staticClass:"ml-8 mb-3"},[t._v("Select columns based on the feature selector method.")]),t.miloMetadata?e("v-select",{staticClass:"ml-8",attrs:{items:t.miloMetadata,outlined:"",label:"Feature Selector Method"},model:{value:t.miloColumns,callback:function(a){t.miloColumns=a},expression:"miloColumns"}}):t._e(),e("div",[t._v(" "+t._s(t.miloColumns)+" ")])],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"mr-2",attrs:{rounded:"",large:"",dark:"",color:"grey darken-3"},on:{click:t.setMiloColumns}},[t._v("Select Columns")])],1)],1)],1)],1)},F=[],k=(e("4160"),e("159b"),e("caad"),e("2532"),e("ac1f"),e("1276"),e("d81d"),e("498a"),e("a434"),e("0481"),e("c975"),e("26e9"),e("5319"),e("b0c0"),e("bc3a")),O=e.n(k),V=e("c46f"),L=e("19de"),j=e.n(L),N={name:"Home",data:function(){return{file:"",loading:!1,serverData:null,trainingMetadata:null,trainingDataLoading:!1,testingMetadata:null,testingDataLoading:!1,miloMetadata:null,miloDataLoading:!1,targetColumnList:null,nontargetColumnList:null,target:null,toggle:null,selectedColumns:[],errorColumns:null,trainingOutputFilename:"training_reduced",testingOutputFilename:"testing_reduced",miloColumns:[],miloDialog:!1}},sockets:{connect:function(){console.log("socket connected")},customEmit:function(t){this.serverData=t,this.loading=!1}},computed:{dataColumnsMatch:function(){if(null!=this.trainingMetadata&&null!=this.testingMetadata){var t=this.trainingMetadata.columns==this.testingMetadata.columns,a=V["a"].difference(this.trainingMetadata.column_names,this.testingMetadata.column_names),e=V["a"].difference(this.testingMetadata.column_names,this.trainingMetadata.column_names),s=0==e.length&&0==a.length;return{numberOfColumnsMatch:t,columnNamesMatch:s,inTrainNotTest:a,inTestNotTrain:e}}return null}},methods:{resetStepOne:function(){},resetStepTwo:function(){},resetStepThree:function(){},resetStepFour:function(){},splitPasted:function(){var t=this;this.selectedColumns.forEach((function(a,e){if(a.includes(",")){console.log("comma detected",a,e);var s=a.split(",");s.map((function(t){return t.trim()})),t.selectedColumns.splice(e,1,s)}})),this.selectedColumns=this.selectedColumns.flat(),this.errorColumns=[],this.selectedColumns.forEach((function(a){t.nontargetColumnList.includes(a)||t.errorColumns.push(a)})),this.errorColumns.forEach((function(a){var e=t.selectedColumns.indexOf(a);t.selectedColumns.splice(e,1)})),0==this.errorColumns.length&&(this.errorColumns=null),this.selectedColumns=V["a"].uniq(this.selectedColumns)},targetColumnChanged:function(t){var a=this;null==t?this.nontargetColumnList=null:(this.nontargetColumnList=[],this.trainingMetadata.column_names.reverse().forEach((function(e){e!=t&&a.nontargetColumnList.push(e)})))},testEmit:function(){this.$socket.emit("custom"),this.loading=!0},trainingFileUpload:function(t){var a=this;if(null!=t){this.trainingDataLoading=!0;var e=new FormData;e.append("file",t),O.a.post("data_upload",e,{headers:{"Content-Type":"multipart/form-data","X-inbound":"training_data"}}).then((function(e){a.trainingMetadata=e.data,a.targetColumnList=a.trainingMetadata.column_names.reverse(),a.trainingOutputFilename=t.name.replace(".csv","")+"_reduced",a.trainingDataLoading=!1}))}else this.trainingMetadata=null,this.trainingOutputFilename="",this.trainingDataLoading=!1},testingFileUpload:function(t){var a=this;if(null!=t){this.testingDataLoading=!0;var e=new FormData;console.log(t),e.append("file",t),O.a.post("data_upload",e,{headers:{"Content-Type":"multipart/form-data","X-inbound":"testing_data"}}).then((function(e){a.testingMetadata=e.data,a.testingOutputFilename=t.name.replace(".csv","")+"_reduced",a.testingDataLoading=!1}))}else this.testingMetadata=null,this.testingOutputFilename="",this.testingDataLoading=!1},miloFileUpload:function(t){var a=this;if(null!=t){var e=new FormData;this.miloDataLoading=!0,e.append("file",t),O.a.post("data_upload",e,{headers:{"Content-Type":"multipart/form-data","X-inbound":"milo_file"}}).then((function(t){a.miloMetadata=[];var e=JSON.parse(t.data.result).selected_features;for(var s in e)a.miloMetadata.push({text:s,value:JSON.parse(e[s])});a.miloDataLoading=!1}))}else this.miloMetadata=null,this.miloDataLoading=!1},setMiloColumns:function(){this.selectedColumns=this.miloColumns,this.miloDialog=!1},finalFileRequests:function(){var t=this,a=[];this.selectedColumns.forEach((function(t){a.push(t)})),a.push(this.target);var e=!(null==this.testingMetadata),s={finalColumns:a,hasTestData:e};O.a.post("column_reducer/build_files",s,{headers:{"Content-Type":"application/json"}}).then((function(){return O.a.post("/column_reducer/training_reduced_file",{name:t.trainingOutputFilename},{headers:{"Content-Type":"application/json"}})})).then((function(a){if(console.log(a),j()(a.data,t.trainingOutputFilename+".csv"),null!=t.testingMetadata)return O.a.post("/column_reducer/testing_reduced_file",{name:t.testingOutputFilename},{headers:{"Content-Type":"application/json"}})})).then((function(a){console.log(a),null!=t.testingMetadata&&j()(a.data,t.testingOutputFilename+".csv")}))}}},R=N,E=e("c6a6"),P=e("8336"),A=e("99d9"),B=e("cc20"),I=e("2b5d"),U=e("169a"),$=e("23a7"),J=e("a722"),q=e("8e36"),X=e("b974"),G=e("2fa4"),Y=e("8654"),H=Object(r["a"])(R,T,F,!1,null,null,null),W=H.exports;u()(H,{VAutocomplete:E["a"],VBtn:P["a"],VCard:S["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VChip:B["a"],VCol:M["a"],VCombobox:I["a"],VContainer:y["a"],VDialog:U["a"],VFileInput:$["a"],VIcon:w["a"],VLayout:J["a"],VProgressLinear:q["a"],VRow:x["a"],VSelect:X["a"],VSpacer:G["a"],VTextField:Y["a"]});var K=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",[e("v-card",{staticClass:"ma-3 pa-3",attrs:{outlined:""}},[e("div",[e("v-row",[e("v-col",{attrs:{cols:"3"}},[e("v-btn",{attrs:{icon:""},on:{click:function(a){return t.$router.push({name:"Landing"})}}},[e("v-icon",[t._v("mdi-arrow-left")])],1)],1),e("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[e("v-icon",{attrs:{"x-large":""}},[t._v("mdi-call-split")]),e("span",{staticClass:"title"},[t._v("Train and Test Builder")])],1),e("v-col",{attrs:{cols:"3"}})],1)],1),e("v-card-text",{staticClass:"body-1"},[t._v(" This tool allows you to build both a training and validation data set from a single data file. ")])],1),e("v-card",{staticClass:"ma-3 pa-3",attrs:{outlined:""}},[e("v-card-title",{},[t._v(" Step 1 - Select Data File ")]),e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"100",outlined:"",label:"Data File"},on:{change:t.splitFileUpload}}),e("div",{staticClass:"overline"})],1)],1)],1),null!=t.fileData?e("v-card",{staticClass:"ma-3 pa-3",attrs:{outlined:""}},[e("v-card-title",{},[t._v(" Step 2 - Select Target Column ")]),e("v-row",[e("v-col",{attrs:{cols:"6"}},[t.fileData?e("v-select",{attrs:{"prepend-icon":"mdi-bullseye",color:"teal",background:"teal",outlined:"",label:"",items:t.fileData.column_names},on:{change:t.determineClassMetadata},model:{value:t.targetColumn,callback:function(a){t.targetColumn=a},expression:"targetColumn"}}):t._e()],1)],1),e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"distrobution-box",style:{background:"#2196F3",width:t.class0percent+"%"}},[t._v("Class 0: "+t._s(t.class0size)+" ("+t._s(t.class0percent)+"%)")]),e("div",{staticClass:"distrobution-box",style:{background:"#009688",width:t.class1percent+"%"}},[t._v("Class 1: "+t._s(t.class1size)+" ("+t._s(t.class1percent)+"%)")]),e("div",{staticClass:"distrobution-box",style:{background:"grey",width:t.placeholderSlot+"%"}},[t._v("Data Distrobution Displayed After Selection")])]),t.minSampleSizeError?e("v-alert",{attrs:{color:"red",type:"error"}},[t._v("To use this tool, each class must have a an N greater than "+t._s(t.minSampleSize)+".")]):t._e()],1):t._e(),t.minSampleSizeError||null==t.targetColumn?t._e():e("v-card",{staticClass:"ma-3 pa-3",attrs:{outlined:""}},[e("v-card-title",{},[t._v(" Step 3 - Select Split ")]),e("div",[t._v(" Select amount of training data. "+t._s(t.minSampleSize)+" is the minimum supported sample size. We have automatically selected a value that you may adjust below. ")]),e("v-row",[e("v-col",{attrs:{cols:"5"}},[e("v-slider",{attrs:{min:t.minSampleSize,max:t.maxSampleSize},on:{change:t.calculatePercentage},model:{value:t.trainingClassSampleSize,callback:function(a){t.trainingClassSampleSize=a},expression:"trainingClassSampleSize"}})],1),e("v-col",{attrs:{cols:"1"}},[t._v(" "+t._s(t.trainingClassSampleSize)+" ")])],1),e("div",[t._v(" Select how you would like to use remain data in the global generalization testing set. ")]),e("v-radio-group",{on:{change:t.calculatePercentage},model:{value:t.prevalenceOption,callback:function(a){t.prevalenceOption=a},expression:"prevalenceOption"}},[e("v-radio",{attrs:{label:"Use All Remaining Data After Training Data Removed"}}),e("v-radio",{attrs:{label:"Maintain Original Prevalence in Validation File (some data will be removed)"}})],1),e("div",{}),e("v-card",{staticClass:"mb-10"},[e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"title-box",style:{background:"#7E57C2",width:t.barSizes.train0+t.barSizes.train1+"%"}},[t._v(" Training Data ")]),e("div",{staticClass:"title-box",style:{background:"#5C6BC0",width:t.barSizes.test0+t.barSizes.test1+"%"}},[t._v(" Global Generalization Testing Data ")])]),e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"distrobution-box",style:{background:"#64B5F6",width:t.barSizes.train0+"%"}},[e("div",[t._v("Train 0")]),e("div",[t._v("n="+t._s(t.trainingClassSampleSize))])]),e("div",{staticClass:"distrobution-box",style:{background:"#4DB6AC",width:t.barSizes.train1+"%"}},[e("div",[t._v("Train 1")]),e("div",[t._v("n="+t._s(t.trainingClassSampleSize))])]),e("div",{staticClass:"distrobution-box",style:{background:"#42A5F5",width:t.barSizes.test0+"%"}},[e("div",[t._v("Test 0")]),e("div",[t._v("n="+t._s(t.barData.test0global))])]),e("div",{staticClass:"distrobution-box",style:{background:"#26A69A",width:t.barSizes.test1+"%"}},[e("div",[t._v("Test 1")]),e("div",[t._v("n="+t._s(t.barData.test1global))])]),e("div",{staticClass:"distrobution-box",style:{background:"#F48FB1",width:t.barSizes.extra+"%"}},[e("div",[t._v("Not Used")]),e("div",[t._v("n="+t._s(t.barData.extra))])])])]),e("div",{staticClass:"text-right"},[e("v-btn",{attrs:{dark:"",float:"right",color:"grey",rounded:""},on:{click:t.processFiles}},[t._v("Build Files")])],1)],1)],1)},Q=[],Z={name:"TrainTestSplit",data:function(){return{prevalenceOption:0,fileData:null,targetColumn:null,classMetadata:null,class0size:0,class0percent:0,class1size:0,class1percent:0,placeholderSlot:100,minSampleSize:50,maxSampleSize:100,trainingClassSampleSize:0,widthTest:30,barSizes:{train0:0,train1:0,test0:0,test1:0,extra:0},barData:{test0global:0,test1global:0,extra:0}}},computed:{minSampleSizeError:function(){return null!=this.classMetadata&&(this.classMetadata.class_counts[0]<this.minSampleSize||this.classMetadata.class_counts[1]<this.minSampleSize)}},methods:{splitFileUpload:function(t){var a=this,e=new FormData;console.log(t),e.append("file",t),O.a.post("/train_test_split/upload",e,{headers:{"Content-Type":"multipart/form-data","X-filename":t.name}}).then((function(t){a.fileData=t.data}))},determineClassMetadata:function(t){var a=this;if(null!=t){var e={target_column:this.targetColumn,storage_id:this.fileData.storage_id};return O.a.post("train_test_split/metadata",e,{headers:{"Content-Type":"application/json"}}).then((function(t){a.classMetadata=t.data,a.classMetadata.class_counts=JSON.parse(a.classMetadata.class_counts),a.calculateMetadataMetrics(),a.calculatePercentage()}))}this.classMetadata=null},processFiles:function(){var t={target_column:this.targetColumn,storage_id:this.fileData.storage_id,training_class_sample_size:this.trainingClassSampleSize,prevalence_option:this.prevalenceOption,majority_class:this.classMetadata.majority_class,extra:this.barData.extra};return O.a.post("train_test_split/process",t,{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),j()(t.data.training,"training.csv"),j()(t.data.testing,"testing.csv"),"extra"in t.data&&j()(t.data.extra,"extra.csv")}))},findTrainingClassSampleSize:function(){var t=this.classMetadata.class_counts[this.classMetadata.minority_class],a=Math.round(t/2);this.maxSampleSize=t,this.minSampleSize>a?this.trainingClassSampleSize=this.minSampleSize:this.trainingClassSampleSize=a},calculateMetadataMetrics:function(){this.class0size=this.classMetadata.class_counts[0],this.class1size=this.classMetadata.class_counts[1],this.class0percent=Math.round(this.classMetadata.class_counts[0]/this.classMetadata.total_count*1e3)/10,this.class1percent=Math.round(this.classMetadata.class_counts[1]/this.classMetadata.total_count*1e3)/10,this.placeholderSlot=0,this.findTrainingClassSampleSize()},calculatePercentage:function(){if(0==this.prevalenceOption)this.barSizes.train0=this.trainingClassSampleSize/this.classMetadata.total_count*100,this.barSizes.train1=this.trainingClassSampleSize/this.classMetadata.total_count*100,this.barSizes.test0=100*(this.classMetadata.class_counts[0]-this.trainingClassSampleSize)/this.classMetadata.total_count,this.barSizes.test1=100*(this.classMetadata.class_counts[1]-this.trainingClassSampleSize)/this.classMetadata.total_count,this.barSizes.extra=0,this.barData.test0global=this.classMetadata.class_counts[0]-this.trainingClassSampleSize,this.barData.test1global=this.classMetadata.class_counts[1]-this.trainingClassSampleSize,this.barData.extra=0;else if(1==this.prevalenceOption){console.log("swap"),this.barSizes.train0=this.trainingClassSampleSize/this.classMetadata.total_count*100,this.barSizes.train1=this.trainingClassSampleSize/this.classMetadata.total_count*100;var t=this.classMetadata.class_counts[this.classMetadata.majority_class]/this.classMetadata.total_count,a=this.classMetadata.class_counts[this.classMetadata.minority_class]/this.classMetadata.total_count,e=this.classMetadata.class_counts[this.classMetadata.minority_class]-this.trainingClassSampleSize,s=Math.round(e/a),i=Math.round(t*s),n=this.classMetadata.class_counts[this.classMetadata.majority_class]-this.trainingClassSampleSize-i;console.log({percentMajority:t,percentMinority:a,minorityRemain:e,totalRemain:s,majorityRemain:i,numberToDrop:n}),0==this.classMetadata.majority_class?(this.barSizes.test0=100*i/this.classMetadata.total_count,this.barSizes.test1=100*e/this.classMetadata.total_count,this.barData.test0global=i,this.barData.test1global=e):1==this.classMetadata.majority_class&&(this.barSizes.test0=100*e/this.classMetadata.total_count,this.barSizes.test1=100*i/this.classMetadata.total_count,this.barData.test0global=e,this.barData.test1global=i),this.barData.extra=n,this.barSizes.extra=100*n/this.classMetadata.total_count}}}},tt=Z,at=(e("7886"),e("0798")),et=e("67b6"),st=e("43a6"),it=e("ba0d"),nt=Object(r["a"])(tt,K,Q,!1,null,null,null),lt=nt.exports;u()(nt,{VAlert:at["a"],VBtn:P["a"],VCard:S["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:M["a"],VContainer:y["a"],VFileInput:$["a"],VIcon:w["a"],VRadio:et["a"],VRadioGroup:st["a"],VRow:x["a"],VSelect:X["a"],VSlider:it["a"]}),s["a"].use(g["a"]);var ot=[{path:"/columnreducer",name:"ColumnReducer",component:W},{path:"/traintestsplit",name:"TrainTestSplit",component:lt},{path:"/",name:"Landing",component:D}],rt=new g["a"]({mode:"history",base:"/",routes:ot}),ct=rt,ut=e("2f62");s["a"].use(ut["a"]);var dt=new ut["a"].Store({state:{},mutations:{},actions:{},modules:{}}),mt=e("f309");s["a"].use(mt["a"]);var pt=new mt["a"]({});s["a"].config.productionTip=!1,new s["a"]({router:ct,store:dt,vuetify:pt,render:function(t){return t(v)}}).$mount("#app")},7886:function(t,a,e){"use strict";e("b0e1")},b0e1:function(t,a,e){}});
//# sourceMappingURL=app.448a51b2.js.map