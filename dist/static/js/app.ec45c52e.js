(function(t){function e(e){for(var i,l,o=e[0],r=e[1],c=e[2],d=0,p=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&p.push(s[l][0]),s[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,o=1;o<a.length;o++){var r=a[o];0!==s[r]&&(i=!1)}i&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var i={},s={app:0},n=[];function l(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=i,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(a,i,function(e){return t[e]}.bind(null,i));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("TopBar"),a("router-view"),a("MessageSnackbar"),a("FileProcessingDialog",{attrs:{isOpen:t.$store.state.fileProcessingDialog.open,loading:t.$store.state.fileProcessingDialog.loading}})],1)],1)},n=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{dense:""}},[a("v-img",{attrs:{"max-width":"130",src:"https://milo-ml.com/wp-content/uploads/2021/02/logo.png"}}),a("v-toolbar-title",{staticClass:"ml-3"},[t._v("PREPROCESSING TOOLS")]),a("v-spacer")],1)],1)},o=[],r={name:"TopBar",data:function(){return{}}},c=r,u=a("2877"),d=a("6544"),p=a.n(d),h=a("adda"),m=a("2fa4"),f=a("71d9"),v=a("2a7f"),g=Object(u["a"])(c,l,o,!1,null,null,null),_=g.exports;p()(g,{VImg:h["a"],VSpacer:m["a"],VToolbar:f["a"],VToolbarTitle:v["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{top:"",color:t.$store.state.snackbarMessage.color,timeout:2e3},model:{value:t.$store.state.snackbarMessage.show,callback:function(e){t.$set(t.$store.state.snackbarMessage,"show",e)},expression:"$store.state.snackbarMessage.show"}},[t._v(" "+t._s(t.$store.state.snackbarMessage.message)+" "),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.$store.state.snackbarMessage.show=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1)},b=[],C={name:"MessageSnackbar",props:["snackbar"],watch:{show:function(){this.show=this.snackbar}},data:function(){return{show:!1}}},F=C,x=a("8336"),w=a("132d"),O=a("2db4"),M=Object(u["a"])(F,S,b,!1,null,null,null),T=M.exports;p()(M,{VBtn:x["a"],VIcon:w["a"],VSnackbar:O["a"]});var V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:""},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[a("v-card",{staticClass:"text-center pa-10 loaders-transition"},[1==t.loading?a("v-progress-circular",{attrs:{color:"blue",size:"160",width:"15",indeterminate:""}},[t._v(" Processing ")]):t._e(),0==t.loading?a("div",[a("v-icon",{staticClass:"loaders-transition",staticStyle:{"font-size":"160px"},attrs:{color:"green"}},[t._v("mdi-check-circle-outline")]),a("div",{staticClass:"display-1"},[a("v-icon",{attrs:{"x-large":""}},[t._v("mdi-arrow-down")]),t._v(" Your file(s) are available below. "),a("v-icon",{attrs:{"x-large":""}},[t._v("mdi-arrow-down")])],1),a("div",{staticClass:"mt-5"},[a("v-btn",{staticClass:"primary",attrs:{round:"",flat:""},on:{click:function(e){return t.close()}}},[t._v("Edit output")]),a("v-btn",{attrs:{round:"",flat:""},on:{click:t.home}},[t._v("Exit tool")])],1)],1):t._e()],1)],1)},y=[],D={name:"X",props:["isOpen","loading"],data:function(){return{}},methods:{close:function(){this.$store.commit("FileProcessingDialogOpenSet",!1)},home:function(){this.$store.commit("FileProcessingDialogOpenSet",!1),this.$router.push({name:"Landing"})}}},k=D,R=a("b0af"),j=a("169a"),N=a("490a"),$=Object(u["a"])(k,V,y,!1,null,null,null),z=$.exports;p()($,{VBtn:x["a"],VCard:R["a"],VDialog:j["a"],VIcon:w["a"],VProgressCircular:N["a"]});var P={name:"App",components:{TopBar:_,MessageSnackbar:T,FileProcessingDialog:z},data:function(){return{}}},L=P,G=a("7496"),E=a("f6c4"),B=Object(u["a"])(L,s,n,!1,null,null,null),A=B.exports;p()(B,{VApp:G["a"],VMain:E["a"]});var I=a("9483");Object(I["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var H=a("8c4f"),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",t._l(t.$store.state.tools,(function(e,i){return a("div",{key:i},[e.isVisible?a("v-card",{staticClass:"my-5 pa-5 text-center",attrs:{hover:"",outlined:"",rounded:""},on:{click:function(e){return t.$router.push({name:i})}}},[a("v-icon",{attrs:{"x-large":""}},[t._v(t._s(e.icon))]),a("span",{staticClass:"title"},[t._v(t._s(e.title))]),a("div",{staticClass:"caption"},[t._v(" "+t._s(e.description)+" ")])],1):t._e()],1)})),0)},X=[],K={name:"Landing",data:function(){return{}},mounted:function(){this.$store.commit("FileProcessingDialogOpenSet",!1)}},q=K,J=a("a523"),Q=Object(u["a"])(q,U,X,!1,null,null,null),W=Q.exports;p()(Q,{VCard:R["a"],VContainer:J["a"],VIcon:w["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{outlined:""}},[a("MenuBar",{attrs:{title:t.$store.state.tools[t.$options.name].title,icon:t.$store.state.tools[t.$options.name].icon,description:t.$store.state.tools[t.$options.name].description},on:{reset:t.resetStep1Training}}),a("v-card",{staticClass:"ma-3 pa-5",style:{opacity:t.setTransparencyFromStepProgress(1)},attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:"1",stepTitle:"Select Data File(s)"}}),a("div",[a("v-card",{staticClass:"ma-5 pa-3",attrs:{outlined:""}},[a("div",{staticClass:"overline ml-5 mb-3"},[t._v(" Training File ")]),a("v-layout",{staticClass:"ml-5"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"100",outlined:"",label:"Training Data File"},on:{change:t.dataFileUploadTraining},model:{value:t.trainingFileData,callback:function(e){t.trainingFileData=e},expression:"trainingFileData"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[t.trainingDataLoading?a("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}}):t._e(),a("DataValidation",{staticClass:"mt-n3",attrs:{fileData:t.trainingMetadata,dataType:"training",maxRows:2e4,maxFeatures:2e3},on:{dataValid:t.dataValidationTrainingData}})],1)],1)],1)],1),null!=t.trainingMetadata?a("Decision",{attrs:{decision:t.testingFile,message:"Do you have a second generalization testing file?",trueVal:"Yes",falseVal:"No"},on:{decide:t.setTestingFileState}}):t._e(),1==t.testingFile?a("v-card",{staticClass:"ma-5 pa-3",attrs:{outlined:""}},[a("div",{staticClass:"overline ml-5 mb-3"},[t._v(" Generalization Testing File ")]),a("v-layout",{staticClass:"ml-5"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"100",outlined:"",label:"Testing Data File"},on:{change:t.dataFileUploadTesting},model:{value:t.testingFileData,callback:function(e){t.testingFileData=e},expression:"testingFileData"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[t.testingDataLoading?a("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}}):t._e(),a("DataValidation",{staticClass:"mt-n3",attrs:{fileData:t.testingMetadata,dataType:"testing",maxRows:1e5,maxFeatures:2e3},on:{dataValid:t.dataValidationTestingData}})],1)],1)],1)],1):t._e(),1==t.testingFile&&null!=t.testingMetadata?a("v-card",{staticClass:"ma-5 pa-3",attrs:{outlined:""}},[a("div",{staticClass:"overline ml-5 mb-3"},[t._v(" Cross-File Validation ")]),a("v-layout",{staticClass:"ml-5"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[null!=t.dataColumnsMatch?a("div",{staticClass:"body-1"},[a("div",[t.dataColumnsMatch.numberOfColumnsMatch?a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Number of Columns Match Between Files ")],1):t._e(),t.dataColumnsMatch.numberOfColumnsMatch?t._e():a("div",[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" Number of Columns Differ Between Files ")],1)]),a("div",[t.dataColumnsMatch.columnNamesMatch?a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Column Names Match Between Files ")],1):t._e(),t.dataColumnsMatch.columnNamesMatch?t._e():a("div",[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" Column Names Differ Between Files "),a("div",{staticClass:"pl-10 pb-5"},[a("div",[t._v(" Columns in Test File Missing from Training: "),t._l(t.dataColumnsMatch.inTestNotTrain,(function(e,i){return a("v-chip",{key:i,attrs:{outlined:""}},[t._v(t._s(e))])}))],2),a("div",[t._v(" Columns in Training File Missing from Training: "),t._l(t.dataColumnsMatch.inTrainNotTest,(function(e,i){return a("v-chip",{key:i,attrs:{outlined:""}},[t._v(t._s(e))])}))],2)])],1)])]):t._e()])],1)],1)],1):t._e()],1)],1),t.showStep2?a("v-card",{staticClass:"ma-3 pa-5",style:{opacity:t.setTransparencyFromStepProgress(2)},attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:"2",stepTitle:"Target Selection"}}),a("div",[a("p",[t._v(" Identify the column containing your target variable to ensure it is maintain in the output. ")]),a("v-layout",{staticClass:"ma-5"},[a("v-row",{attrs:{wrap:""}},[a("v-col",{attrs:{cols:"6"}},[a("v-autocomplete",{attrs:{clearable:"",outlined:"",label:"Target Column",items:t.targetColumnList},on:{change:t.targetColumnChanged},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1)],1)],1),null!=t.target?a("div",{staticClass:"body-1"},[1==t.targetValid?a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Valid target column. ")],1):t._e(),0==t.targetValid?a("div",[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" The selected target column is not valid. There must be two unique values. ")],1):t._e()]):t._e()],1)],1):t._e(),t.showStep3?a("v-card",{staticClass:"ma-3 pa-5",style:{opacity:t.setTransparencyFromStepProgress(3)},attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:"3",stepTitle:"Column Selection"}}),a("div",[a("p",[t._v("Click below to selected columns or paste a comma seperated list of columns to be outputted. "),a("br"),t._v(" You can also "),a("a",{on:{click:function(e){t.miloDialog=!0}}},[t._v('import from a MILO results "report.csv" file')]),t._v(".")]),a("v-layout",{staticClass:"ma-5"},[a("v-row",{attrs:{wrap:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-combobox",{staticClass:"ml-8",attrs:{clearable:"",multiple:"",chips:"",items:t.nontargetColumnList,outlined:"",label:"Selected Columns"},on:{change:function(e){return t.splitPasted()}},model:{value:t.selectedColumns,callback:function(e){t.selectedColumns=e},expression:"selectedColumns"}}),a("div"),t.selectedColumns.length>0?a("div",{staticClass:"body-1"},[a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" "+t._s(t.selectedColumns.length)+" columns selected. ")],1)]):t._e(),null!=t.errorColumns?a("div",[t.errorColumns.length>0?a("div",[a("v-alert",{staticClass:"mt-3",attrs:{text:"",type:"error",dismissible:"",dense:""}},[a("span",[t._v("The following column"),t.errorColumns.length>1?a("span",[t._v("s")]):t._e(),t._v(" are invalid:")]),t._l(t.errorColumns,(function(e,i){return a("v-chip",{key:i,staticClass:"ml-2",attrs:{small:"",dark:"",color:"red lighten-3"}},[t._v(t._s(e))])}))],2)],1):t._e()]):t._e(),a("p")],1)],1)],1)],1),t.selectedColumns.length>0?a("div",{staticClass:"text-right"},[0==t.confirmColumnSelection?a("v-btn",{attrs:{color:"primary",rounded:""},on:{click:function(e){return t.proceedToStep4()}}},[t._v(" Confirm Column Selection ")]):t._e()],1):t._e()],1):t._e(),t.showStep4?a("v-card",{staticClass:"ma-3 pa-5",style:{opacity:t.setTransparencyFromStepProgress(4)},attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:"4",stepTitle:"Output Files"}}),a("div",[a("v-layout",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"px-3 py-1 mt",attrs:{flat:"",outlined:""}},[a("div",{staticClass:"overline"},[t._v(" Output Summary ")]),a("div",[null==t.fileOutputs?a("div",[a("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}})],1):t._e(),null!=t.fileOutputs?a("div",[a("div",[t._v(" Total Columns: "+t._s(t.selectedColumns.length+1)+" (including target) ")]),a("div",[t._v(" Feature Columns: "+t._s(t.selectedColumns.length)+" of "+t._s(t.nontargetColumnList.length)+" original ")]),a("div",[t._v(" Target Column: "+t._s(t.target)+" ")]),a("div",[t._v(" Training Rows Total: "+t._s(t.trainingMetadata.rows)+" ")]),a("div",[t._v(" Training Rows Used: "+t._s(t.trainingMetadata.rows-t.fileOutputs.training_missing_count)+" ")]),a("div",[t._v(" Training Rows Missing Data: "+t._s(t.fileOutputs.training_missing_count)+" ")]),null!=t.testingMetadata?a("div",[t._v(" Testing Rows Total: "+t._s(t.testingMetadata.rows)+" ")]):t._e(),null!=t.testingMetadata?a("div",[t._v(" Testing Rows Used: "+t._s(t.testingMetadata.rows-t.fileOutputs.testing_missing_count)+" ")]):t._e(),null!=t.testingMetadata?a("div",[t._v(" Testing Rows Missing Data: "+t._s(t.fileOutputs.testing_missing_count)+" ")]):t._e()]):t._e()])])],1),a("v-col",{attrs:{cols:"6"}},[a("div",[a("v-text-field",{attrs:{label:"Training File Output",suffix:".csv",outlined:"",dense:""},model:{value:t.trainingOutputFilename,callback:function(e){t.trainingOutputFilename=e},expression:"trainingOutputFilename"}})],1),a("div",[null!=t.testingMetadata?a("v-text-field",{attrs:{label:"Testing File Output",suffix:".csv",outlined:"",dense:""},model:{value:t.testingOutputFilename,callback:function(e){t.testingOutputFilename=e},expression:"testingOutputFilename"}}):t._e()],1),a("div",{staticClass:"overline"},[t._v("Additional File Outputs")]),a("div",[a("v-switch",{attrs:{label:"Export rows with missing data."},model:{value:t.exportNanRows,callback:function(e){t.exportNanRows=e},expression:"exportNanRows"}})],1),a("div",{staticClass:"text-right"},[null!=t.fileOutputs?a("v-btn",{attrs:{color:"primary",rounded:""},on:{click:function(e){return t.buildFiles()}}},[t._v(" Build Files ")]):t._e()],1)])],1)],1)],1)],1):t._e(),a("v-dialog",{attrs:{"max-width":"700"},model:{value:t.miloDialog,callback:function(e){t.miloDialog=e},expression:"miloDialog"}},[a("v-card",{staticClass:"pa-3 pb-6",attrs:{flat:""}},[a("v-card-title",[a("p",[t._v('Import Columns from MILO Results "report.csv" File')]),a("v-spacer"),a("v-btn",{staticClass:"mt-n5",attrs:{icon:"",flat:""},on:{click:function(e){t.miloDialog=!1}}},[a("v-icon",{attrs:{medium:""}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"mx-0 py-0"},[a("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"200",outlined:"",label:"MILO Data File"},on:{change:t.miloFileUpload}}),t.miloDataLoading?a("v-progress-linear",{attrs:{indeterminate:""}}):t._e(),a("v-spacer"),a("div",[a("div",{staticClass:"ml-8 mb-3"},[t._v("Select columns based on the feature selector method. Note: Random Forest options are not included because each is run specific. Also, any method that does not reduced the number of columns is not included.")]),t.miloMetadata?a("v-select",{staticClass:"ml-8",attrs:{items:t.miloMetadata,outlined:"",label:"Feature Selector Method"},model:{value:t.miloColumns,callback:function(e){t.miloColumns=e},expression:"miloColumns"}}):t._e(),a("div",t._l(t.miloColumns,(function(e,i){return a("v-chip",{key:i,attrs:{small:"",color:"grey lighten-2"}},[t._v(t._s(e))])})),1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{rounded:"",dark:"",color:"primary"},on:{click:t.setMiloColumns}},[t._v("Select Columns")])],1)],1)],1),a("FileProcessingDialog",{attrs:{isOpen:t.fileProcessingDialog,loading:t.fileProcessingInProgress}})],1)},Z=[],tt=(a("ac1f"),a("5319"),a("b0c0"),a("d81d"),a("26e9"),a("4160"),a("159b"),a("caad"),a("2532"),a("1276"),a("498a"),a("a434"),a("0481"),a("c975"),a("bc3a")),et=a.n(tt),at=a("c46f"),it=a("19de"),st=a.n(it),nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:""}},[null!=t.fileData?a("div",{staticClass:"text-left"},[a("v-card",{staticClass:"py-2 px-3 mt-3 mr-5",attrs:{flat:"",outlined:""}},[a("div",{staticClass:"overline"},[t._v("File Validation")]),a("div",[t.alerts.maxRows?a("div",[a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-alert-circle")]),t._v(" "+t._s(t.fileData.rows)+" rows "),a("span",{staticClass:"grey--text"},[t._v("("+t._s(t.maxRows)+" max)")])],1):t._e(),t.alerts.maxRows?t._e():a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" "+t._s(t.fileData.rows)+" rows "),a("span",{staticClass:"grey--text"},[t._v("("+t._s(t.maxRows)+" max)")])],1)]),a("div",[t.alerts.maxFeatures?a("div",[a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-alert-circle")]),t._v(" "+t._s(t.fileData.columns)+" columns "),a("span",{staticClass:"grey--text"},[t._v("("+t._s(t.maxFeatures)+" max)")])],1):t._e(),t.alerts.maxFeatures?t._e():a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" "+t._s(t.fileData.columns)+" columns "),a("span",{staticClass:"grey--text"},[t._v("("+t._s(t.maxFeatures)+" max)")])],1)]),a("div",[t.alerts.moreColthanRow?a("div",[a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-alert-circle")]),a("span",{staticClass:"grey--text"},[t._v("File has more columns than rows. We do not recommend this.")])],1):t._e(),t.alerts.moreColthanRow?t._e():a("div")]),a("div",[t.alerts.missingData?a("div",[a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-alert-circle")]),t._v(" "+t._s(t.fileData.nan_count)+" rows are missing data. ")],1):t._e(),t.alerts.missingData?t._e():a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" All rows have complete data. ")],1)]),a("div",[t.alerts.textData?a("div",[a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-alert-circle")]),t._v(" "+t._s(t.fileData.invalid_columns.length)+" column"),t.fileData.invalid_columns.length>1?a("span",[t._v("s")]):t._e(),t._v(" ( "),t._l(t.fileData.invalid_columns,(function(e,i){return a("v-chip",{key:i,attrs:{dark:"",small:"",color:"orange lighten-3"}},[t._v(t._s(e))])})),t._v(" ) has non-numerical data. MILO can only use numerical data. ")],2):t._e(),t.alerts.textData?t._e():a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" All rows have numerical data. ")],1)])]),a("div")],1):t._e()])},lt=[],ot={name:"DataValidation",props:["fileData","maxFeatures","maxRows"],data:function(){return{alerts:{missingData:!1,textData:!1,maxFeatures:!1,maxRows:!1,moreColthanRow:!1}}},watch:{fileData:function(t,e){console.log("Prop changed: ",t," | was: ",e),this.validateData()}},mounted:function(){this.validateData()},methods:{validateData:function(){if(null!=this.fileData){this.fileData.nan_count>0?this.alerts.missingData=!0:this.alerts.missingData=!1,this.fileData.invalid_columns.length>0?this.alerts.textData=!0:this.alerts.textData=!1,this.fileData.columns>this.maxFeatures?this.alerts.maxFeatures=!0:this.alerts.maxFeatures=!1,this.fileData.columns>this.fileData.rows?this.alerts.moreColthanRow=!0:this.alerts.moreColthanRow=!1,this.fileData.rows>this.maxRows?this.alerts.maxRows=!0:this.alerts.maxRows=!1;var t=!0;(this.alerts.textData||this.alerts.maxFeatures)&&(t=!1),this.$emit("dataValid",{bool:t,alerts:this.alerts})}}}},rt=ot,ct=a("cc20"),ut=Object(u["a"])(rt,nt,lt,!1,null,null,null),dt=ut.exports;p()(ut,{VCard:R["a"],VChip:ct["a"],VIcon:w["a"]});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-3"},[a("div",{staticClass:"title primary--text"},[a("v-chip",{staticClass:"mt-n1",attrs:{dark:"",color:"primary"}},[t._v(t._s(t.stepNumber))]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.stepTitle))])],1)])},ht=[],mt={name:"StepHeading",props:["stepNumber","stepTitle"],data:function(){return{}}},ft=mt,vt=Object(u["a"])(ft,pt,ht,!1,null,null,null),gt=vt.exports;p()(vt,{VChip:ct["a"]});var _t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-alert",{staticClass:"ml-2",attrs:{dense:"",text:"",color:"primary"}},[t._v(" "+t._s(t.message)+" "),1!=t.decision?a("v-btn",{staticClass:"ml-3",attrs:{text:""},on:{click:function(e){return t.decide(!0)}}},[t._v(" "+t._s(t.trueVal)+" ")]):t._e(),1==t.decision?a("v-btn",{staticClass:"ml-3",attrs:{text:"",dark:"",color:"primary"},on:{click:function(e){return t.decide(!0)}}},[t._v(" "+t._s(t.trueVal)+" ")]):t._e(),0!=t.decision?a("v-btn",{attrs:{text:""},on:{click:function(e){return t.decide(!1)}}},[t._v(" "+t._s(t.falseVal)+" ")]):t._e(),0==t.decision?a("v-btn",{attrs:{text:"",dark:"",color:"primary"},on:{click:function(e){return t.decide(!1)}}},[t._v(" "+t._s(t.falseVal)+" ")]):t._e()],1)},St=[],bt={name:"Decision",props:["decision","trueVal","falseVal","message"],data:function(){return{}},methods:{decide:function(t){this.$emit("decide",t)}}},Ct=bt,Ft=a("0798"),xt=Object(u["a"])(Ct,_t,St,!1,null,null,null),wt=xt.exports;p()(xt,{VAlert:Ft["a"],VBtn:x["a"]});var Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-3 pa-3 text-center",attrs:{flat:"",outlined:""}},[a("div",[a("v-icon",{attrs:{"x-large":""}},[t._v(t._s(t.icon))]),a("span",{staticClass:"title"},[t._v(t._s(t.title))])],1),a("div",{staticClass:"ma-3 caption"},[t._v(" "+t._s(t.description)+" ")]),a("v-row",[a("v-col",{staticClass:"text-left",attrs:{cols:"6"}},[a("v-btn",{attrs:{text:""},on:{click:function(e){return t.$router.push({name:"Landing"})}}},[a("v-icon",[t._v("mdi-arrow-left")]),t._v(" Home ")],1)],1),a("v-col",{staticClass:"text-right",attrs:{cols:"6"}},[a("v-btn",{attrs:{text:""},on:{click:t.resetTool}},[a("v-icon",[t._v("mdi-restart")]),t._v(" Reset Tool ")],1)],1)],1)],1)},Mt=[],Tt={name:"MenuBar",props:["title","icon","description"],data:function(){return{}},methods:{resetTool:function(){this.$emit("reset")}}},Vt=Tt,yt=a("62ad"),Dt=a("0fd9"),kt=Object(u["a"])(Vt,Ot,Mt,!1,null,null,null),Rt=kt.exports;p()(kt,{VBtn:x["a"],VCard:R["a"],VCol:yt["a"],VIcon:w["a"],VRow:Dt["a"]});var jt={name:"ColumnReducer",components:{DataValidation:dt,StepHeading:gt,Decision:wt,FileProcessingDialog:z,MenuBar:Rt},data:function(){return{file:"",loading:!1,serverData:null,trainingFileData:null,trainingMetadata:null,trainingDataLoading:!1,trainingDataValid:!0,testingFile:null,testingFileData:null,testingMetadata:null,testingDataLoading:!1,testingDataValid:!0,miloMetadata:null,miloDataLoading:!1,targetColumnList:null,nontargetColumnList:null,target:null,targetValid:null,toggle:null,selectedColumns:[],errorColumns:null,confirmColumnSelection:!1,removeNanRows:!0,exportNanRows:!0,trainingOutputFilename:"",testingOutputFilename:"",fileOutputs:null,fileProcessingDialog:!1,fileProcessingInProgress:!0,miloColumns:[],miloDialog:!1}},sockets:{connect:function(){console.log("socket connected")},customEmit:function(t){this.serverData=t,this.loading=!1}},computed:{dataColumnsMatch:function(){if(null!=this.trainingMetadata&&null!=this.testingMetadata){var t=this.trainingMetadata.columns==this.testingMetadata.columns,e=at["a"].difference(this.trainingMetadata.column_names,this.testingMetadata.column_names),a=at["a"].difference(this.testingMetadata.column_names,this.trainingMetadata.column_names),i=0==a.length&&0==e.length;return{numberOfColumnsMatch:t,columnNamesMatch:i,inTrainNotTest:e,inTestNotTrain:a}}return null},stepNumber:function(){return this.showStep4?4:this.showStep3?3:this.showStep2?2:1},showStep2:function(){return null!=this.trainingMetadata&&0==this.testingFile||!(null==this.trainingMetadata||1!=this.testingFile||null==this.testingMetadata||!this.dataColumnsMatch.numberOfColumnsMatch||!this.dataColumnsMatch.columnNamesMatch)},showStep3:function(){return!(!this.showStep2||null==this.target||1!=this.targetValid)},showStep4:function(){return!!(this.showStep3&&this.selectedColumns.length>0&&this.confirmColumnSelection)}},methods:{dataFileUploadTraining:function(t){var e=this;null!=t?(this.trainingDataLoading=!0,this.dataFileUpload(t,"training_data").then((function(t){e.trainingMetadata=t.data,e.trainingDataLoading=!1,e.trainingOutputFilename=e.trainingFileData.name.replace(".csv","")+"_reduced";var a=function(t){return t};e.targetColumnList=e.trainingMetadata.column_names.map(a),e.targetColumnList=e.targetColumnList.reverse()}))):this.resetStep1Training()},dataFileUploadTesting:function(t){var e=this;null!=t?(this.testingDataLoading=!0,this.dataFileUpload(t,"testing_data").then((function(t){e.testingMetadata=t.data,e.testingDataLoading=!1,e.testingOutputFilename=e.testingFileData.name.replace(".csv","")+"_reduced"}))):this.testingMetadata=null},dataFileUpload:function(t,e){var a=this;if(null!=t){var i=new FormData;return i.append("file",t),et.a.post("/data_file_upload",i,{headers:{"Content-Type":"multipart/form-data","X-filename":t.name,"X-filegroup":e}}).then((function(t){return t}))["catch"]((function(){a.$store.commit("snackbarMessageSet",{color:"red lighten-1",message:"Error processing file."})}))}return"nothing"},dataValidationTrainingData:function(t){this.trainingDataValid=t},dataValidationTestingData:function(t){this.testingDataValid=t},proceedToStep4:function(){this.confirmColumnSelection=!0,window.scrollTo(0,document.body.scrollHeight),this.processFiles()},processFiles:function(){var t=this;this.fileOutputs=null;var e={};return e.training_storage_id=this.trainingMetadata.storage_id,e.testing_storage_id=null!=this.testingMetadata?this.testingMetadata.storage_id:null,e.selected_columns=this.selectedColumns,e.target_column=this.target,e.remove_nan_rows=this.removeNanRows,et.a.post("/column_reducer/process",e,{headers:{"Content-Type":"application/json"}}).then((function(e){t.fileOutputs=e.data}))},buildFiles:function(){st()(this.fileOutputs.training,this.trainingOutputFilename+".csv"),"null"!=this.fileOutputs.testing&&st()(this.fileOutputs.testing,this.testingOutputFilename+".csv"),"null"!=this.fileOutputs.training_missing&&this.exportNanRows&&st()(this.fileOutputs.training_missing,this.trainingOutputFilename+"_missing_data.csv"),"null"!=this.fileOutputs.testing_missing&&this.exportNanRows&&st()(this.fileOutputs.training_missing,this.testingOutputFilename+"_missing_data.csv"),this.$store.commit("FileProcessingDialogOpenSet",!0)},resetStep1Training:function(){this.trainingFileData=null,this.trainingMetadata=null,this.trainingDataValid=!0,this.targetColumnList=null,this.nontargetColumnList=null,this.trainingOutputFilename="",this.testingFile=null,this.fileProcessingDialog=!1,this.resetStep1Testing(),this.resetStep2()},resetStep1Testing:function(){this.testingFileData=null,this.testingMetadata=null,this.testingDataValid=!0,this.testingOutputFilename=""},resetStep2:function(){this.target=null,this.targteValid=null,this.resetStep3()},resetStep3:function(){this.selectedColumns=[],this.errorColumns=null,this.confirmColumnSelection=!1,this.resetStep4()},resetStep4:function(){this.confirmColumnSelection=!1},splitPasted:function(){var t=this;this.selectedColumns.forEach((function(e,a){if(e.includes(",")){console.log("comma detected",e,a);var i=e.split(",");i.map((function(t){return t.trim()})),t.selectedColumns.splice(a,1,i)}})),this.selectedColumns=this.selectedColumns.flat(),this.errorColumns=[],this.selectedColumns.forEach((function(e){t.nontargetColumnList.includes(e)||t.errorColumns.push(e)})),this.errorColumns.forEach((function(e){var a=t.selectedColumns.indexOf(e);t.selectedColumns.splice(a,1)})),0==this.errorColumns.length&&(this.errorColumns=null),this.selectedColumns=at["a"].uniq(this.selectedColumns),console.log(this.selectedColumns),this.resetStep4()},targetColumnChanged:function(t){var e=this;if(null==t)this.resetStep2();else{var a={target:this.target,storage_id:this.trainingMetadata.storage_id};et.a.post("/validate/target_column",a,{headers:{"Content-Type":"application/json","X-inbound":"validation"}}).then((function(t){e.targetValid=t.data.validation})),this.nontargetColumnList=[],this.trainingMetadata.column_names.forEach((function(a){a!=t&&e.nontargetColumnList.push(a)}))}},testEmit:function(){this.$socket.emit("custom"),this.loading=!0},miloFileUpload:function(t){var e=this;if(null!=t){var a=new FormData;this.miloDataLoading=!0,a.append("file",t),et.a.post("milo_file_upload",a,{headers:{"Content-Type":"multipart/form-data","X-inbound":"milo_file"}}).then((function(t){e.miloMetadata=[];var a=JSON.parse(t.data.result).selected_features;for(var i in a)e.miloMetadata.push({text:i,value:JSON.parse(a[i])});e.miloDataLoading=!1}))}else this.miloMetadata=null,this.miloDataLoading=!1},setMiloColumns:function(){this.selectedColumns=this.miloColumns,console.log(this.selectedColumns),this.miloDialog=!1},setTransparencyFromStepProgress:function(t){return this.stepNumber>t?.7:1},setTestingFileState:function(t){console.log(t),this.testingFile=t}}},Nt=jt,$t=a("c6a6"),zt=a("99d9"),Pt=a("2b5d"),Lt=a("23a7"),Gt=a("a722"),Et=a("8e36"),Bt=a("b974"),At=a("b73d"),It=a("8654"),Ht=Object(u["a"])(Nt,Y,Z,!1,null,null,null),Ut=Ht.exports;p()(Ht,{VAlert:Ft["a"],VAutocomplete:$t["a"],VBtn:x["a"],VCard:R["a"],VCardActions:zt["a"],VCardText:zt["b"],VCardTitle:zt["c"],VChip:ct["a"],VCol:yt["a"],VCombobox:Pt["a"],VContainer:J["a"],VDialog:j["a"],VFileInput:Lt["a"],VIcon:w["a"],VLayout:Gt["a"],VProgressCircular:N["a"],VProgressLinear:Et["a"],VRow:Dt["a"],VSelect:Bt["a"],VSpacer:m["a"],VSwitch:At["a"],VTextField:It["a"]});var Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("MenuBar",{attrs:{title:t.$store.state.tools[t.$options.name].title,icon:t.$store.state.tools[t.$options.name].icon,description:t.$store.state.tools[t.$options.name].description},on:{reset:t.resetStep1}}),a("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:"1",stepTitle:"Select Data File"}}),a("div",[a("v-card",{staticClass:"ma-5 pa-3",attrs:{outlined:""}},[a("div",{staticClass:"overline ml-5 mb-3"},[t._v(" Single Data File ")]),a("v-layout",{staticClass:"ml-5"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"100",outlined:"",label:"Data File"},on:{change:t.fileUpload},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[t.fileDataLoading?a("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}}):t._e(),a("DataValidation",{staticClass:"mt-n3",attrs:{fileData:t.fileData,dataType:"combined",maxRows:1e5,maxFeatures:2e3},on:{dataValid:t.fileValidationData}})],1)],1)],1)],1),t.fileDataValid&&t.fileDataValid.alerts.textData?a("ErrorMessage",{attrs:{type:"error",text:"Milo cannot use columns with non-numerical data. We advise fixing this before proceeding."}}):t._e()],1)],1),t.showStep2?a("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:"2",stepTitle:"Select Target Column"}}),a("div",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[t.fileData?a("v-select",{attrs:{clearable:"",outlined:"",label:"Target Column","prepend-icon":"mdi-bullseye",items:t.fileData.column_names},on:{change:t.determineClassMetadata},model:{value:t.targetColumn,callback:function(e){t.targetColumn=e},expression:"targetColumn"}}):t._e()],1)],1),t.class0nanSize>0||t.class1nanSize>0?a("v-alert",{attrs:{dense:"",text:"",type:"warning"}},[t._v(" Rows with missing data will be dropped during processing. "),t.class0nanSize>0?a("div",[1==t.class0nanSize?a("span",[t._v("For class 0: "+t._s(t.class0nanSize)+" row is excluded.")]):t._e(),t.class0nanSize>1?a("span",[t._v("For class 0: "+t._s(t.class0nanSize)+" rows are excluded. ")]):t._e(),t._v(" ( "),a("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(t._s(t.class0size))]),a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-arrow-right")]),t._v(" "+t._s(t.class0size-t.class0nanSize)+" ) ")],1):t._e(),t.class1nanSize>0?a("div",[1==t.class1nanSize?a("span",[t._v("For class 1: "+t._s(t.class1nanSize)+" row is excluded.")]):t._e(),t.class1nanSize>1?a("span",[t._v("For class 1: "+t._s(t.class1nanSize)+" rows are excluded.")]):t._e(),t._v(" ( "),a("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(t._s(t.class1size))]),a("v-icon",{attrs:{color:"orange"}},[t._v("mdi-arrow-right")]),t._v(" "+t._s(t.class1size-t.class1nanSize)+" ) ")],1):t._e()]):t._e(),a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"distrobution-box",style:{background:"#2196F3",width:t.class0width+"%"}},[a("div",{staticClass:"distrobution-box",style:{opacity:.3,background:"white",width:t.class0nanPercent+"%",position:"absolute",left:"16px",bottom:"15px"}}),a("p",{staticClass:"pa-0 ma-0"},[t._v(" Class 0 ("+t._s(t.class0percent)+"%) ")]),0==t.class0nanSize?a("p",{staticClass:"pa-0 ma-0"},[t._v(" N="+t._s(t.class0size)+" ")]):t._e(),t.class0nanSize>0?a("p",{staticClass:"pa-0 ma-0"},[a("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(t._s(t.class0size))]),a("v-icon",{attrs:{color:"white"}},[t._v("mdi-arrow-right")]),t._v(" "+t._s(t.class0size-t.class0nanSize)+" ")],1):t._e()]),a("div",{staticClass:"distrobution-box",style:{background:"#009688",width:t.class1width+"%"}},[a("div",{staticClass:"distrobution-box",style:{opacity:.3,background:"white",width:t.class1nanPercent+"%",position:"absolute",right:"16px",bottom:"15px"}}),a("p",{staticClass:"pa-0 ma-0"},[t._v(" Class 1 ("+t._s(t.class1percent)+"%) ")]),0==t.class1nanSize?a("p",{staticClass:"pa-0 ma-0"},[t._v(" N="+t._s(t.class1size)+" ")]):t._e(),t.class1nanSize>0?a("p",{staticClass:"pa-0 ma-0"},[a("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(t._s(t.class1size))]),a("v-icon",{attrs:{color:"white"}},[t._v("mdi-arrow-right")]),t._v(" "+t._s(t.class1size-t.class1nanSize)+" ")],1):t._e()]),a("div",{staticClass:"distrobution-box",style:{background:"#d3d3d3",width:t.placeholderSlot+"%"}},[t._v("Data Distrobution Displayed After Selection")])]),t.minSampleSizeError?a("ErrorMessage",{attrs:{type:"error",text:"To use this tool, each class must have a an N greater than "+t.minSampleSize}}):t._e()],1)],1):t._e(),t.showStep3?a("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:"3",stepTitle:"Select Split"}}),a("div",[t.classMetadata?a("ClassGroupBar",{attrs:{metadata:t.classMetadata},on:{calculation:t.receiveClassGroupBarData}}):t._e()],1)],1):t._e(),t.showStep4?a("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:"4",stepTitle:"Output Files"}}),a("div",[a("div",[a("v-switch",{attrs:{label:"Include row index in output"},model:{value:t.outputSettings.includeRowIndex,callback:function(e){t.$set(t.outputSettings,"includeRowIndex",e)},expression:"outputSettings.includeRowIndex"}})],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Training Data File Name",suffix:".csv"},model:{value:t.outputFiles.training,callback:function(e){t.$set(t.outputFiles,"training",e)},expression:"outputFiles.training"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Testing Data File Name",suffix:".csv"},model:{value:t.outputFiles.testing,callback:function(e){t.$set(t.outputFiles,"testing",e)},expression:"outputFiles.testing"}})],1)],1),a("div",[a("div",{staticClass:"overline"},[t._v("Additional File Outputs")]),a("v-row",[t.splitData&&t.splitData.extraCount>0?a("v-col",{attrs:{cols:"6"}},[a("v-switch",{attrs:{label:"Export unused data."},model:{value:t.outputSettings.extraFile,callback:function(e){t.$set(t.outputSettings,"extraFile",e)},expression:"outputSettings.extraFile"}}),t.outputSettings.extraFile?a("v-text-field",{attrs:{outlined:"",dense:"",label:"Extra Data File",suffix:".csv"},model:{value:t.outputFiles.extra,callback:function(e){t.$set(t.outputFiles,"extra",e)},expression:"outputFiles.extra"}}):t._e()],1):t._e(),t.fileData.nan_count>0?a("v-col",{attrs:{cols:"6"}},[a("div",[a("v-switch",{attrs:{label:"Export rows with missing data."},model:{value:t.outputSettings.nanFile,callback:function(e){t.$set(t.outputSettings,"nanFile",e)},expression:"outputSettings.nanFile"}})],1),t.outputSettings.nanFile?a("v-text-field",{attrs:{outlined:"",dense:"",label:"Rows with Missing Data File",suffix:".csv"},model:{value:t.outputFiles.nan,callback:function(e){t.$set(t.outputFiles,"nan",e)},expression:"outputFiles.nan"}}):t._e()],1):t._e()],1)],1),a("div",{staticClass:"text-right"},[a("v-btn",{attrs:{dark:"",rounded:"",float:"right",color:"primary"},on:{click:function(e){return t.processFiles()}}},[t._v(" Create Files "),a("v-icon",{staticClass:"pl-2"},[t._v("mdi-file")])],1)],1)],1)],1):t._e()],1)},Kt=[],qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-alert",{attrs:{type:t.type,text:"",dense:""}},[t._v(" "+t._s(t.text)+" ")])],1)},Jt=[],Qt={name:"X",props:["text","type"],data:function(){return{}}},Wt=Qt,Yt=Object(u["a"])(Wt,qt,Jt,!1,null,null,null),Zt=Yt.exports;p()(Yt,{VAlert:Ft["a"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v(" Use the slider to adjust your training data class size. ")]),a("v-row",[a("v-col",{attrs:{cols:"5"}},[a("v-slider",{attrs:{min:t.minSampleSize,max:t.maxSampleSize},on:{change:t.calculateGroupCounts},model:{value:t.trainingClassSize,callback:function(e){t.trainingClassSize=e},expression:"trainingClassSize"}})],1),a("v-col",{attrs:{cols:"1"}},[t._v(" "+t._s(t.trainingClassSize)+" ")])],1),a("div",[t.trainingClassSize<50?a("v-alert",{attrs:{type:"warning",text:""}},[t._v(" We recommend a minimum training class size of 50. "),t.maxSampleSize<50?a("span",[t._v(" However, we also require a minimum generalization class size of 25.")]):t._e()]):t._e()],1),a("div",[t._v(" Select how you would like to use remain data in the global generalization testing set. ")]),a("v-radio-group",{on:{change:t.calculateGroupCounts},model:{value:t.prevalenceOption,callback:function(e){t.prevalenceOption=e},expression:"prevalenceOption"}},[a("v-radio",{attrs:{label:"Use All Remaining Data After Training Data Removed"}}),a("v-radio",{attrs:{label:"Maintain Original Prevalence in Validation File (some data may be excluded)"}})],1),a("div",{staticStyle:{width:"100%"}},[a("div",[a("div",{staticClass:"title-box",style:{background:"white",width:t.countToPercent(t.counts.nan,t.counts.total)+"%"}}),a("div",{staticClass:"title-box",style:{background:"#7E57C2",width:t.countToPercent(t.counts.train1,t.counts.total)+t.countToPercent(t.counts.train0,t.counts.total)+"%"}},[t._v(" Training Data ")]),a("div",{staticClass:"title-box",style:{background:"#5C6BC0",width:t.countToPercent(t.counts.test1,t.counts.total)+t.countToPercent(t.counts.test0,t.counts.total)+"%"}},[t._v(" Generalization Testing Data ")])]),a("div",{staticStyle:{width:"100%"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("div",t._g(t._b({staticClass:"distrobution-box",style:{background:"grey",width:t.countToPercent(t.counts.nan,t.counts.total)+"%"}},"div",s,!1),i),[a("div",[t._v(" Miss Data ")]),a("div",[t._v("n="+t._s(t.counts.nan))])])]}}])},[a("span",[t._v(t._s(t.counts.nan)+" rows are missing data and cannot be used in the final data set")])]),a("div",{staticClass:"distrobution-box",style:{background:"#64B5F6",width:t.countToPercent(t.counts.train0,t.counts.total)+"%"}},[a("div",[t._v("Train 0")]),a("div",[t._v("n="+t._s(t.counts.train0))])]),a("div",{staticClass:"distrobution-box",style:{background:"#4DB6AC",width:t.countToPercent(t.counts.train1,t.counts.total)+"%"}},[a("div",[t._v("Train 1")]),a("div",[t._v("n="+t._s(t.counts.train1))])]),a("div",{staticClass:"distrobution-box",style:{background:"#42A5F5",width:t.countToPercent(t.counts.test0,t.counts.total)+"%"}},[a("div",[t._v("Test 0")]),a("div",[t._v("n="+t._s(t.counts.test0))])]),a("div",{staticClass:"distrobution-box",style:{background:"#26A69A",width:t.countToPercent(t.counts.test1,t.counts.total)+"%"}},[a("div",[t._v("Test 1")]),a("div",[t._v("n="+t._s(t.counts.test1))])]),a("div",{staticClass:"distrobution-box",style:{background:"#F48FB1",width:t.countToPercent(t.counts.extra,t.counts.total)+"%"}},[a("div",[t._v("Not Used")]),a("div",[t._v("n="+t._s(t.counts.extra))])])],1)])],1)},ee=[],ae={name:"ClassGroupBar",props:["metadata"],data:function(){return{prevalenceOption:0,minSampleSize:25,maxSampleSize:5e3,trainingClassSize:50,minBoxSize:10,counts:{nan:0,class0:0,class1:0,train0:0,train1:0,test0:0,test1:0,extra:0,total:1},prevalence:{class0:0,class1:0}}},computed:{scaleFactorForMinBoxes:function(){var t=100;for(var e in this.counts)if("total"!=e){var a=this.counts[e],i=a/this.counts.total*100;i<=this.minBoxSize&&i>0&&(t=t-(this.minBoxSize-i)-3)}return t/100}},mounted:function(){this.calculateClassCounts(),this.findTrainingClassSampleSize(),this.calculateMaxSampleSize(),this.calculateGroupCounts()},methods:{calculateClassCounts:function(){console.log(this.metadata),this.counts.total=this.metadata.total_count,this.counts.nan=this.metadata.nan_class_counts[0]+this.metadata.nan_class_counts[1],this.counts.class0=this.metadata.class_counts[0]-this.metadata.nan_class_counts[0],this.counts.class1=this.metadata.class_counts[1]-this.metadata.nan_class_counts[1],this.prevalence.class0=this.counts.class0/(this.counts.total-this.counts.nan),this.prevalence.class1=this.counts.class1/(this.counts.total-this.counts.nan)},calculateGroupCounts:function(){this.counts.train0=this.trainingClassSize,this.counts.train1=this.trainingClassSize,0==this.prevalenceOption?(this.counts.test0=this.counts.class0-this.trainingClassSize,this.counts.test1=this.counts.class1-this.trainingClassSize,this.counts.extra=0):1==this.prevalenceOption&&(this.prevalence.class0<.5?(this.counts.test0=this.counts.class0-this.trainingClassSize,this.counts.test1=Math.round(this.counts.test0/this.prevalence.class0-this.counts.test0),this.counts.extra=this.counts.total-this.counts.nan-this.counts.train0-this.counts.train1-this.counts.test0-this.counts.test1):this.prevalence.class1<.5?(this.counts.test1=this.counts.class1-this.trainingClassSize,this.counts.test0=Math.round(this.counts.test1/this.prevalence.class1-this.counts.test1),this.counts.extra=this.counts.total-this.counts.nan-this.counts.train0-this.counts.train1-this.counts.test0-this.counts.test1):.5==this.prevalence.class0&&(this.counts.test0=this.counts.class0-this.trainingClassSize,this.counts.test1=this.counts.class1-this.trainingClassSize,this.counts.extra=0)),this.reportData()},countToPercent:function(t,e){var a=t/e*100;return 0==t?0:a<=this.minBoxSize?this.minBoxSize:a*this.scaleFactorForMinBoxes},findTrainingClassSampleSize:function(){var t=this.prevalence.class0<.5?this.counts.class0:this.counts.class1,e=Math.round(t/2);this.minSampleSize>e?this.trainingClassSize=this.minSampleSize:this.trainingClassSize=e},calculateMaxSampleSize:function(){var t=this.prevalence.class0<.5?this.counts.class0:this.counts.class1;this.maxSampleSize=t-this.minSampleSize>2500?2500:t-this.minSampleSize},reportData:function(){var t={prevalenceOption:this.prevalenceOption,trainingClassSize:this.trainingClassSize,extraCount:this.counts.extra};this.$emit("calculation",t)}}},ie=ae,se=a("67b6"),ne=a("43a6"),le=a("ba0d"),oe=a("3a2f"),re=Object(u["a"])(ie,te,ee,!1,null,null,null),ce=re.exports;p()(re,{VAlert:Ft["a"],VCol:yt["a"],VRadio:se["a"],VRadioGroup:ne["a"],VRow:Dt["a"],VSlider:le["a"],VTooltip:oe["a"]});var ue={name:"TrainTestSplit",components:{DataValidation:dt,StepHeading:gt,ErrorMessage:Zt,ClassGroupBar:ce,MenuBar:Rt},data:function(){return{e1:1,file:null,fileData:null,fileDataValid:null,fileDataLoading:!1,prevalenceOption:0,targetColumn:null,targetColumnList:[],classMetadata:null,class0size:0,class0percent:0,class0nanSize:0,class0nanPercent:0,class0width:0,class1size:0,class1percent:0,class1nanSize:0,class1nanPercent:0,class1width:0,placeholderSlot:100,splitData:null,outputFiles:{training:null,testing:null,nan:null,extra:null},outputSettings:{includeRowIndex:!1,nanFile:!1,extraFile:!1},minSampleSize:25}},computed:{showStep2:function(){return!(null==this.fileData||!this.fileDataValid||!this.fileDataValid.bool)},showStep3:function(){return!(!this.showStep2||null==this.targetColumn||this.minSampleSizeError)},showStep4:function(){return!!this.showStep3},minSampleSizeError:function(){return null!=this.classMetadata&&(this.classMetadata.class_counts[0]<this.minSampleSize||this.classMetadata.class_counts[1]<this.minSampleSize)}},methods:{resetStep1:function(){this.file=null,this.fileData=null,this.fileDataValid=null,this.targetColumnList=[],this.resetStep2()},resetStep2:function(){this.targetColumn=null,this.classMetadata=null,this.class0size=0,this.class0percent=0,this.class0nanSize=0,this.class0nanPercent=0,this.class0width=0,this.class1size=0,this.class1percent=0,this.class1nanSize=0,this.class1nanPercent=0,this.class1width=0,this.placeholderSlot=100,this.resetStep3()},resetStep3:function(){console.log("reset step 3"),this.splitData=null},fileUpload:function(t){var e=this;if(null!=t){var a=new FormData;this.fileDataLoading=!0,a.append("file",t),et.a.post("/data_file_upload",a,{headers:{"Content-Type":"multipart/form-data","X-filename":t.name,"X-filegroup":"train_test_split"}}).then((function(t){e.fileDataLoading=!1,e.fileData=t.data,e.targetColumnList=e.fileData.column_names.reverse()}))["catch"]((function(){e.fileDataLoading=!1,e.$store.commit("snackbarMessageSet",{color:"red lighten-1",message:"Error processing file."}),e.resetStep1()}))}else this.fileDataLoading=!1,this.resetStep1()},fileValidationData:function(t){console.log(t),this.fileDataValid=t},determineClassMetadata:function(t){var e=this;if(null!=t){var a={target_column:this.targetColumn,storage_id:this.fileData.storage_id};return et.a.post("train_test_split/metadata",a,{headers:{"Content-Type":"application/json"}}).then((function(t){e.classMetadata=t.data,console.log(t.data),e.classMetadata.class_counts=JSON.parse(e.classMetadata.class_counts),null!=e.classMetadata.nan_class_counts&&(e.classMetadata.nan_class_counts=JSON.parse(e.classMetadata.nan_class_counts)),e.calculateMetadataMetrics(),e.makeFileNames()}))["catch"]((function(){e.$store.commit("snackbarMessageSet",{color:"red lighten-1",message:"Invalid column selection. Values are not binary."}),e.resetStep2()}))}this.resetStep2()},receiveClassGroupBarData:function(t){this.splitData=t},makeFileNames:function(){var t=this.file.name.trim();t=t.replace(".csv",""),t=t.trim(),this.outputFiles.training=t+"_training",this.outputFiles.testing=t+"_testing",this.outputFiles.extra=t+"_extra",this.outputFiles.nan=t+"_missing_data"},processFiles:function(){var t=this,e={target_column:this.targetColumn,storage_id:this.fileData.storage_id,majority_class:this.classMetadata.majority_class,training_class_sample_size:this.splitData.trainingClassSize,prevalence_option:this.splitData.prevalenceOption,extra:this.splitData.extraCount,include_index:this.outputSettings.includeRowIndex};return console.log(e),this.$store.commit("FileProcessingDialogOpenSet",!0),this.$store.commit("FileProcessingDialogLoadingSet",!0),et.a.post("train_test_split/process",e,{headers:{"Content-Type":"application/json"}}).then((function(e){if(console.log(e),t.$store.commit("FileProcessingDialogLoadingSet",!1),t.outputSettings.includeRowIndex?(st()(e.data.training,t.outputFiles.training+"_with_index.csv"),st()(e.data.testing,t.outputFiles.testing+"_with_index.csv")):(st()(e.data.training,t.outputFiles.training+".csv"),st()(e.data.testing,t.outputFiles.testing+".csv")),t.outputSettings.extraFile&&st()(e.data.extra,t.outputFiles.extra+".csv"),t.outputSettings.nanFile)try{st()(e.data.nan,t.outputFiles.nan+".csv")}catch(a){console.log("error")}}))},calculateMetadataMetrics:function(){this.class0size=this.classMetadata.class_counts[0],this.class1size=this.classMetadata.class_counts[1],this.class0percent=Math.round(this.classMetadata.class_counts[0]/this.classMetadata.total_count*1e3)/10,this.class1percent=Math.round(this.classMetadata.class_counts[1]/this.classMetadata.total_count*1e3)/10,this.class0width=Math.round(this.classMetadata.class_counts[0]/this.classMetadata.total_count*1e3)/10,this.class1width=Math.round(this.classMetadata.class_counts[1]/this.classMetadata.total_count*1e3)/10,this.class0width<20&&(this.class0width=20,this.class1width=80),this.class1width<20&&(this.class1width=20,this.class0width=80),this.placeholderSlot=0,null!=this.classMetadata.nan_class_counts&&(this.class0nanSize=this.classMetadata.nan_class_counts[0],this.class0nanPercent=Math.round(this.classMetadata.nan_class_counts[0]/this.classMetadata.class_counts[0]*1e3)/10,this.class1nanSize=this.classMetadata.nan_class_counts[1],this.class1nanPercent=Math.round(this.classMetadata.nan_class_counts[1]/this.classMetadata.class_counts[1]*1e3)/10)}}},de=ue,pe=(a("7886"),Object(u["a"])(de,Xt,Kt,!1,null,null,null)),he=pe.exports;p()(pe,{VAlert:Ft["a"],VBtn:x["a"],VCard:R["a"],VCol:yt["a"],VContainer:J["a"],VFileInput:Lt["a"],VIcon:w["a"],VLayout:Gt["a"],VProgressCircular:N["a"],VRow:Dt["a"],VSelect:Bt["a"],VSwitch:At["a"],VTextField:It["a"]});var me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("MenuBar",{attrs:{title:t.$store.state.tools[t.$options.name].title,icon:t.$store.state.tools[t.$options.name].icon,description:t.$store.state.tools[t.$options.name].description},on:{reset:t.resetStep1}}),a("StepFileUploadMultiple",{attrs:{stepNumber:"1",stepTitle:"File Upload",file0:t.file0,file1:t.file1,maxRows:t.file0.defaultMaxRows,maxFeatures:t.file0.correlationMaxFeatures},on:{hasSecondFile:t.hasSecondFile,noFile0:t.resetStep1,noFile1:t.resetSecondFileStep1}}),null!=t.file0.fileValidation&&t.file0.fileValidation.alerts.maxFeatures?a("v-alert",{staticClass:"ma-3",attrs:{type:"warning",text:""}},[t._v(" Your file has too many columns ("+t._s(t.file0.fileMetadata.columns)+") to determine correlation in this tool. The max allowed columns is "+t._s(t.file0.correlationMaxFeatures)+". ")]):t._e(),t.stepNumber>=2?a("StepTargetSelection",{attrs:{stepNumber:"2",stepTitle:"Select Target",fileObject:t.file0,nextStepFunction:"generateCorrelation",nextStepParam:"confirmStep2",nextStepButtonText:"Generate Correlation"},on:{resetStep:t.resetStep2,nextStepState:t.confirmStep2Set}}):t._e(),t.stepNumber>=3?a("StepFindCorrelation",{attrs:{stepNumber:"3",stepTitle:"Find Correlations",fileObject:t.file0},on:{changedFeatureRemoval:t.resetStep4,nextStep:t.buildFiles}}):t._e(),t.stepNumber>=4?a("StepFileOutput",{attrs:{stepNumber:"4",stepTitle:"Output Files",file0:t.file0,file1:t.file1,loadingFileData:t.step4Loading,outputFilesGroup:"correlationOutputFiles"},on:{saveFiles:t.saveFiles}}):t._e()],1)},fe=[],ve=(a("d3b7"),a("3ca3"),a("ddb0"),a("53ca")),ge=(a("4de4"),{queryFileList:function(){var t={user_id:"ui000001"};return et.a.post("/query/all_files",t,{headers:{"Content-Type":"application/json"}}).then((function(t){return t}))["catch"]((function(t){throw t}))},newFileObject:function(){return{file:null,uploading:!1,dataSet:"combined",fileMetadata:null,fileValidation:null,target:null,targetValid:null,featureList:null,defaultMaxRows:2e4,defaultMaxFeatures:2e3,correlationMaxFeatures:50,fileOutputName:"",dataFileUpload:function(){var t=this;if(null!=this.file){var e=new FormData;return e.append("file",this.file),this.uploading=!0,et.a.post("/data_file_upload",e,{headers:{"Content-Type":"multipart/form-data","X-filename":this.file.name,"X-filegroup":this.dataSet}}).then((function(e){t.fileMetadata=e.data,t.fileMetadata.describe=JSON.parse(t.fileMetadata.describe),t.uploading=!1,t.fileOutputName=t.file.name.split(".csv")[0]}))}},validateTarget:function(t){var e=this;if(this.correlation=null,null!=t){var a={target:t,storage_id:this.fileMetadata.storage_id};return et.a.post("/validate/target_column",a,{headers:{"Content-Type":"application/json","X-inbound":"validation"}}).then((function(a){if(e.featureList=[],e.targetValid=a.data.validation,a.data.validation)return e.fileMetadata.column_names.forEach((function(a){a!=t&&e.featureList.push(a)})),!0}))}},customFileOutputSuffix:function(t){this.fileOutputName=this.file.name.split(".csv")[0]+t},correlation:null,correlationThreshold:.85,correlationFeatureRemovalList:[],correlationOutputFiles:null,allowCorrelationGraph:function(){if(null!=this.fileMetadata)return this.fileMetadata.columns-1<=this.correlationMaxFeatures;throw new Error("Missing file metadata")},correlationTimeWarning:function(){return!0},correlationFilteredList:function(){var t=this;return this.correlation?this.correlation.list.filter((function(e){return e.value>t.correlationThreshold})):[]},toggleFeatureRemoval:function(t){this.correlationFeatureRemovalList.includes(t)?this.correlationFeatureRemovalList.splice(this.correlationFeatureRemovalList.indexOf(t),1):this.correlationFeatureRemovalList.push(t)},generateCorrelation:function(){var t=this;if(null!=this.target){var e={target:this.target,storage_id:this.fileMetadata.storage_id};return et.a.post("/calc/cor",e,{headers:{"Content-Type":"application/json","X-inbound":"validation"}}).then((function(e){return console.log(e.data),console.log(Object(ve["a"])(e.data)),t.correlation=e.data,!0}))["catch"]((function(t){return t}))}return Promise.reject(Error("No target is selected."))},buildCorrelationFiles:function(){var t=this,e={storage_id:this.fileMetadata.storage_id,feature_removal_list:this.correlationFeatureRemovalList};return et.a.post("/calc/cor/process",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return t.correlationOutputFiles=e.data,e.data}))},featureSelectorResults:null,featureSelectorColumns:null,featureSelectorOutputFiles:null,generateFeatureSelection:function(){var t=this;if(null!=this.target){var e={target:this.target,storage_id:this.fileMetadata.storage_id};return et.a.post("/calc/feature_selector",e,{headers:{"Content-Type":"application/json","X-inbound":"validation"}}).then((function(e){return t.featureSelectorResults=e.data,!0}))["catch"]((function(t){return t}))}return Promise.reject(Error("No target is selected."))},buildFeatureSelectorFiles:function(){var t=this,e={target:this.target,storage_id:this.fileMetadata.storage_id,feature_selector_columns:this.featureSelectorColumns};return et.a.post("/calc/feature_selector/process",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return t.featureSelectorOutputFiles=e.data,e.data}))}}}}),_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:t.stepNumber,stepTitle:t.stepTitle}}),a("div",[a("FileUploadSingle",{attrs:{fileObject:t.file0,fileName:"First File",maxRows:t.maxRows,maxFeatures:t.maxFeatures},on:{noFile:t.noFile0}}),null!=t.file0.fileMetadata?a("Decision",{attrs:{decision:t.hasSecondFile,message:"Do you have a second file?",trueVal:"Yes",falseVal:"No"},on:{decide:t.setSecondFileState}}):t._e(),t.hasSecondFile&&null!=t.file1?a("FileUploadSingle",{attrs:{fileObject:t.file1,fileName:"Second File",maxRows:t.maxRows,maxFeatures:t.maxFeatures},on:{noFile:t.noFile1}}):t._e(),null!=t.file1&&null!=t.file1.fileMetadata?a("FilesCrossValidation",{attrs:{file0:t.file0,file1:t.file1}}):t._e()],1)],1)},Se=[],be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ma-1 pa-1",attrs:{outlined:""}},[a("div",{staticClass:"overline mb-2"},[t._v(" "+t._s(t.fileName)+" ")]),a("v-layout",{staticClass:"ml-5"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-file",chips:"","truncate-length":"100",outlined:"",disabled:null==t.fileObject.dataSet,label:t.fileName},on:{change:t.fileChanged},model:{value:t.fileObject.file,callback:function(e){t.$set(t.fileObject,"file",e)},expression:"fileObject.file"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[t.fileObject.uploading?a("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}}):t._e(),a("DataValidation",{staticClass:"mt-n3",attrs:{fileData:t.fileObject.fileMetadata,dataType:t.fileObject.dataSet,maxRows:t.maxRows,maxFeatures:t.maxFeatures},on:{dataValid:t.fileValidationSet}})],1)],1)],1),t.fileObject.fileMetadata?a("v-card",{staticClass:"ma-5",attrs:{hover:"",flat:"",outlined:""}},[a("div",{staticClass:"pa-3",on:{click:function(e){t.showTable=!t.showTable}}},[a("v-btn",{attrs:{icon:"",tile:"",color:""}},[a("v-icon",[t._v("mdi-chart-bar")])],1),t._v(" Data Descriptions "),t.showTable?t._e():a("span",[t._v("(click to expand)")]),t.showTable?t._e():a("v-icon",[t._v("mdi-chevron-down")]),t.showTable?a("v-icon",[t._v("mdi-chevron-up")]):t._e()],1),t.showTable?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:[{text:"Column",value:"feature"},{text:"Count",value:"count"},{text:"Mean",value:"mean"},{text:"STDEV",value:"std"},{text:"Min",value:"min"},{text:"25%",value:"25%"},{text:"50%",value:"50%"},{text:"75%",value:"75%"},{text:"Max",value:"max"},{text:"Skew",value:"skew"}],items:t.fileObject.fileMetadata.describe}}):t._e()],1):t._e()],1)},Ce=[],Fe={name:"FileUploadSingle",components:{DataValidation:dt},props:["stepNumber","stepTitle","fileObject","fileName","maxRows","maxFeatures"],data:function(){return{showTable:!1}},methods:{fileChanged:function(t){null!=t?this.fileObject.dataFileUpload():this.$emit("noFile")},fileValidationSet:function(t){this.fileObject.fileValidation=t}}},xe=Fe,we=a("8fea"),Oe=Object(u["a"])(xe,be,Ce,!1,null,null,null),Me=Oe.exports;p()(Oe,{VBtn:x["a"],VCard:R["a"],VCol:yt["a"],VDataTable:we["a"],VFileInput:Lt["a"],VIcon:w["a"],VLayout:Gt["a"],VProgressCircular:N["a"],VRow:Dt["a"]});var Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-5 pa-3",attrs:{outlined:""}},[a("div",{staticClass:"overline ml-5 mb-3"},[t._v(" Cross-File Validation ")]),a("v-layout",{staticClass:"ml-5"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[null!=t.dataColumnsMatch?a("div",{staticClass:"body-1"},[a("div",[t.dataColumnsMatch.numberOfColumnsMatch?a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Number of Columns Match Between Files ")],1):t._e(),t.dataColumnsMatch.numberOfColumnsMatch?t._e():a("div",[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" Number of Columns Differ Between Files ")],1)]),a("div",[t.dataColumnsMatch.columnNamesMatch?a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Column Names Match Between Files ")],1):t._e(),t.dataColumnsMatch.columnNamesMatch?t._e():a("div",[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" Column Names Differ Between Files "),a("div",{staticClass:"pl-10 pb-5"},[a("div",[t._v(" Columns in Test File Missing from Training: "),t._l(t.dataColumnsMatch.inTestNotTrain,(function(e,i){return a("v-chip",{key:i,attrs:{outlined:""}},[t._v(t._s(e))])}))],2),a("div",[t._v(" Columns in Training File Missing from Training: "),t._l(t.dataColumnsMatch.inTrainNotTest,(function(e,i){return a("v-chip",{key:i,attrs:{outlined:""}},[t._v(t._s(e))])}))],2)])],1)])]):t._e()])],1)],1)],1)},Ve=[],ye={name:"FilesCrossValidation",components:{},props:["file0","file1"],data:function(){return{}},computed:{dataColumnsMatch:function(){if(null!=this.file0.fileMetadata&&null!=this.file1.fileMetadata){var t=this.file0.fileMetadata.columns==this.file1.fileMetadata.columns,e=at["a"].difference(this.file0.fileMetadata.column_names,this.file1.fileMetadata.column_names),a=at["a"].difference(this.file0.fileMetadata.column_names,this.file1.fileMetadata.column_names),i=0==a.length&&0==e.length;return{numberOfColumnsMatch:t,columnNamesMatch:i,inTrainNotTest:e,inTestNotTrain:a}}return null}}},De=ye,ke=Object(u["a"])(De,Te,Ve,!1,null,null,null),Re=ke.exports;p()(ke,{VCard:R["a"],VChip:ct["a"],VCol:yt["a"],VIcon:w["a"],VLayout:Gt["a"],VRow:Dt["a"]});var je={name:"StepFileUploadMultiple",components:{StepHeading:gt,FileUploadSingle:Me,Decision:wt,FilesCrossValidation:Re},props:["stepNumber","stepTitle","file0","file1","maxRows","maxFeatures"],data:function(){return{hasSecondFile:null}},created:function(){},computed:{},methods:{noFile0:function(){this.$emit("noFile0")},noFile1:function(){this.$emit("noFile1")},setSecondFileState:function(t){console.log("decide",t),0==t&&this.$emit("noFile1"),this.$emit("hasSecondFile",t),this.hasSecondFile=t}}},Ne=je,$e=Object(u["a"])(Ne,_e,Se,!1,null,null,null),ze=$e.exports;p()($e,{VCard:R["a"]});var Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:t.stepNumber,stepTitle:t.stepTitle}}),a("div",[a("p",[t._v(" Identify the column containing your target variable to ensure it is maintain in the output. ")]),a("v-layout",{staticClass:"ma-5"},[a("v-row",{attrs:{wrap:""}},[a("v-col",{attrs:{cols:"6"}},[a("v-autocomplete",{attrs:{clearable:"",outlined:"",label:"Target Column",items:t.fileObject.fileMetadata.column_names_reversed},on:{change:t.targetColumnChanged},model:{value:t.fileObject.target,callback:function(e){t.$set(t.fileObject,"target",e)},expression:"fileObject.target"}})],1)],1)],1),null!=t.fileObject.target?a("div",{staticClass:"body-1"},[1==t.targetValid?a("div",[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]),t._v(" Valid target column. ")],1):t._e(),0==t.targetValid?a("div",[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" The selected target column is not valid. There must be two unique values. ")],1):t._e()]):t._e(),a("div",{staticClass:"text-right"},[t.fileObject.target&&t.fileObject.targetValid?a("v-btn",{attrs:{color:"primary",dark:"",rounded:"",depressed:"",disabled:t.confirmStep},on:{click:t.moveToNextStep}},[t._v(t._s(t.nextStepButtonText))]):t._e()],1)],1)],1)},Le=[],Ge={name:"StepTargetSelection",components:{StepHeading:gt},props:["fileObject","stepNumber","stepTitle","nextStepFunction","nextStepButtonText"],data:function(){return{targetValid:null,confirmStep:!1}},mounted:function(){window.scrollTo(0,document.body.scrollHeight)},methods:{targetColumnChanged:function(t){var e=this;this.confirmStep=!1,this.$emit("nextStepState",this.confirmStep),null!=t&&this.fileObject.validateTarget(t).then((function(){e.targetValid=e.fileObject.targetValid}))},moveToNextStep:function(){this.fileObject[this.nextStepFunction](),this.confirmStep=!0,this.$emit("nextStepState",this.confirmStep)}}},Ee=Ge,Be=Object(u["a"])(Ee,Pe,Le,!1,null,null,null),Ae=Be.exports;p()(Be,{VAutocomplete:$t["a"],VBtn:x["a"],VCard:R["a"],VCol:yt["a"],VIcon:w["a"],VLayout:Gt["a"],VRow:Dt["a"]});var Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:t.stepNumber,stepTitle:t.stepTitle}}),null==t.fileObject.correlation?a("div",[t.fileObject.correlationTimeWarning()?a("v-alert",{attrs:{type:"warning",text:"",dense:""}},[t._v("Based on the number of rows and columns in your file, the correlation calculation may take some time to finish. ")]):t._e(),a("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}})],1):t._e(),null!=t.fileObject.correlation?a("div",[a("div",{staticClass:"mt-5 mb-3"},[t._v(" Select your minimum correlation threshold. ")]),a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-text-field",{attrs:{dense:"",outlined:"",type:"number",max:"1",min:"-1",step:"0.01"},on:{change:t.updatedThreshold},model:{value:t.fileObject.correlationThreshold,callback:function(e){t.$set(t.fileObject,"correlationThreshold",e)},expression:"fileObject.correlationThreshold"}})],1)],1),0==t.fileObject.correlationFilteredList().length?a("div",[a("v-alert",{attrs:{dense:"",color:"primary",text:""}},[t._v("No pairs meet the correlation threshold.")])],1):t._e(),t.fileObject.correlationFilteredList().length>0?a("div",[a("div",{staticClass:"mt-5 mb-3"},[t._v(" Click on the features you wish to remove. ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:[{text:"Feature Pair",value:"features"},{text:"Value",value:"value"}],items:t.fileObject.correlationFilteredList(),"items-per-page":5},scopedSlots:t._u([{key:"item.features",fn:function(e){var i=e.item;return t._l(i.features,(function(e){return a("v-chip",{key:e,attrs:{color:t.determineCorrelationColors(e,t.fileObject.correlationFeatureRemovalList)},on:{click:function(a){return t.fileObject.toggleFeatureRemoval(e)}}},[t._v(" "+t._s(e)+" ")])}))}}],null,!1,2183316350)})],1):t._e(),a("div",{staticClass:"mt-5 mb-3"},[t._v(" Correlated selected for removal. ")]),a("div",[a("v-select",{attrs:{chips:"",outlined:"",multiple:"",items:t.fileObject.featureList,clearable:""},on:{change:t.changedFeatureRemoval},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item;return[a("v-chip",{attrs:{color:t.determineCorrelationColors(i,t.fileObject.correlationFeatureRemovalList)}},[t._v(t._s(i))])]}}],null,!1,4072406187),model:{value:t.fileObject.correlationFeatureRemovalList,callback:function(e){t.$set(t.fileObject,"correlationFeatureRemovalList",e)},expression:"fileObject.correlationFeatureRemovalList"}})],1),a("div",[t.fileObject.allowCorrelationGraph()?t._e():a("div",[a("v-alert",{attrs:{type:"warning",text:""}},[t._v("There are too many features in this dataset to display the correlation graph.")])],1),t.fileObject.allowCorrelationGraph()?a("div",[a("div",[a("v-switch",{attrs:{label:"Show Graph"},model:{value:t.showGraph,callback:function(e){t.showGraph=e},expression:"showGraph"}}),t.fileObject.correlation&&t.showGraph?a("apexchart",{key:t.graphKey,attrs:{type:"heatmap",options:t.options,series:t.fileObject.correlation.graph}}):t._e()],1)]):t._e()]),a("div",{staticClass:"text-right"},[t.fileObject.correlationFeatureRemovalList.length>0?a("v-btn",{attrs:{disabled:t.confirmStep,color:"primary",rounded:"",dark:"",depressed:""},on:{click:function(e){return t.nexStep()}}},[t._v(" Confirm Features for Removal ")]):t._e()],1)],1):t._e()],1)},He=[],Ue=(a("0d03"),a("25f0"),{name:"StepFindCorrelation",components:{StepHeading:gt},props:["stepNumber","stepTitle","fileObject"],data:function(){return{confirmStep:!1,showGraph:!0,graphKey:0,options:null}},created:function(){this.options=this.makeGraphOptions()},mounted:function(){window.scrollTo(0,document.body.scrollHeight)},methods:{makeGraphOptions:function(){return{chart:{animations:{enabled:!0}},dataLabels:{enabled:!1},plotOptions:{heatmap:{colorScale:{ranges:[{from:-1,to:this.fileObject.correlationThreshold-.1,color:"#00A100",name:"Lower correlations"},{from:this.fileObject.correlationThreshold-.1,to:this.fileObject.correlationThreshold,color:"#128FD9",name:"Correlations within 10% of specified threshold"},{from:this.fileObject.correlationThreshold,to:1,color:"#FFB200",name:"Correlation at or above threshold of "+(100*this.fileObject.correlationThreshold).toString()+"%"}]}}}}},updatedThreshold:function(){this.options=this.makeGraphOptions(),this.graphKey+=1},determineCorrelationColors:function(t,e){var a=["deep-purple lighten-4","teal lighten-4","green lighten-4","orange lighten-4","pink lighten-4"],i=e.indexOf(t);return-1==i?"":i<a.length-1?a[i]:"grey lighten-2"},changedFeatureRemoval:function(){this.confirmStep=!1,this.$emit("changedFeatureRemoval")},nexStep:function(){this.confirmStep=!0,this.$emit("nextStep")}}}),Xe=Ue,Ke=Object(u["a"])(Xe,Ie,He,!1,null,null,null),qe=Ke.exports;p()(Ke,{VAlert:Ft["a"],VBtn:x["a"],VCard:R["a"],VChip:ct["a"],VCol:yt["a"],VDataTable:we["a"],VProgressCircular:N["a"],VRow:Dt["a"],VSelect:Bt["a"],VSwitch:At["a"],VTextField:It["a"]});var Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:t.stepNumber,stepTitle:t.stepTitle}}),a("div",[a("v-layout",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"px-3 py-1 mt",attrs:{flat:"",outlined:""}},[a("div",{staticClass:"overline"},[t._v(" Output Summary ")]),a("div",[t.loadingFileData?a("div",[a("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}})],1):t._e(),t.loadingFileData?t._e():a("div",[a("div",[t._v(" Total Output Columns: "+t._s(t.file0[t.outputFilesGroup].column_count)+" (including target) ")]),a("div",[t._v(" Feature Columns: "+t._s(t.file0[t.outputFilesGroup].column_count-1)+" of "+t._s(t.file0.featureList.length)+" original ")]),a("div",[t._v(" Target Column: "+t._s(t.file0.target)+" ")]),a("div",[t._v(" First File Rows Total: "+t._s(t.file0.fileMetadata.rows)+" ")]),a("div",[t._v(" First File Rows Used: "+t._s(t.file0.fileMetadata.rows-t.file0[t.outputFilesGroup].missing_count)+" ")]),a("div",[t._v(" First File Rows Missing Data: "+t._s(t.file0[t.outputFilesGroup].missing_count)+" ")]),null!=t.file1?a("div",[t._v(" Second File Rows Total: "+t._s(t.file1.fileMetadata.rows)+" ")]):t._e(),null!=t.file1?a("div",[t._v(" Second File Rows Used: "+t._s(t.file1.fileMetadata.rows-t.file1[t.outputFilesGroup].missing_count)+" ")]):t._e(),null!=t.file1?a("div",[t._v(" Second File Rows Missing Data: "+t._s(t.file1[t.outputFilesGroup].missing_count)+" ")]):t._e()])])])],1),a("v-col",{attrs:{cols:"6"}},[a("div",[a("v-text-field",{attrs:{label:"First File Output",suffix:".csv",outlined:"",dense:""},model:{value:t.file0.fileOutputName,callback:function(e){t.$set(t.file0,"fileOutputName",e)},expression:"file0.fileOutputName"}})],1),a("div",[null!=t.file1?a("v-text-field",{attrs:{label:"Second File Output",suffix:".csv",outlined:"",dense:""},model:{value:t.file1.fileOutputName,callback:function(e){t.$set(t.file1,"fileOutputName",e)},expression:"file1.fileOutputName"}}):t._e()],1),a("div",{staticClass:"overline"},[t._v("Additional File Outputs")]),a("div",[a("v-switch",{attrs:{label:"Export rows with missing data in seperate file (row indexes included)."},model:{value:t.exportSettings.exportMissingRows,callback:function(e){t.$set(t.exportSettings,"exportMissingRows",e)},expression:"exportSettings.exportMissingRows"}})],1),a("div",{staticClass:"text-right"},[t.loadingFileData?t._e():a("v-btn",{attrs:{color:"primary",rounded:"",dark:"",depressed:""},on:{click:function(e){return t.$emit("saveFiles",t.exportSettings)}}},[t._v(" Save Files ")])],1)])],1)],1)],1)],1)},Qe=[],We={name:"StepFileOutput",components:{StepHeading:gt},props:["stepNumber","stepTitle","loadingFileData","outputFilesGroup","file0","file1"],data:function(){return{exportSettings:{exportMissingRows:!0}}},mounted:function(){window.scrollTo(0,document.body.scrollHeight)}},Ye=We,Ze=Object(u["a"])(Ye,Je,Qe,!1,null,null,null),ta=Ze.exports;p()(Ze,{VBtn:x["a"],VCard:R["a"],VCol:yt["a"],VLayout:Gt["a"],VProgressCircular:N["a"],VRow:Dt["a"],VSwitch:At["a"],VTextField:It["a"]});var ea={name:"Colinearity",components:{MenuBar:Rt,StepFileUploadMultiple:ze,StepTargetSelection:Ae,StepFindCorrelation:qe,StepFileOutput:ta},props:[],created:function(){this.file0=ge.newFileObject(),this.file1=null},data:function(){return{file0:null,file1:null,secondFile:null,confirmStep2:!1,confirmStep3:!1,step4Loading:!1,fileSuffix:"_corr_removal"}},computed:{stepNumber:function(){return this.showStep4?4:this.showStep3?3:this.showStep2?2:1},showStep2:function(){return!(null==this.file0.fileMetadata||0!=this.secondFile||!this.file0.fileValidation.bool)||!(null==this.file0.fileMetadata||1!=this.secondFile||null==this.file1||null==this.file1.fileMetadata||!this.file0.fileValidation.bool||null==this.file1.fileValidation||1!=this.file1.fileValidation.bool)},showStep3:function(){return!(null==this.file0.target||!this.confirmStep2)},showStep4:function(){return!!this.confirmStep3}},methods:{setStepState:function(t,e){console.log(t,e)},resetStep1:function(){this.file0=ge.newFileObject(),this.file1=null,this.secondFile=null,this.resetStep2()},resetSecondFileStep1:function(){this.file1=ge.newFileObject(),this.resetStep2()},resetStep2:function(){this.file0.target=null,this.file0.correlation=null,this.confirmStep2=!1,this.resetStep3()},resetStep3:function(){this.file0.correlationFeatureRemovalList=[],null!=this.file1&&(this.file1.target=null,this.file1.correlationFeatureRemovalList=[]),this.resetStep4()},resetStep4:function(){this.confirmStep3=!1,this.step4Loading=!1,this.file0.correlationOutputFiles=null,null!=this.file1&&(this.file0.correlationOutputFiles=null)},hasSecondFile:function(t){this.secondFile=t,this.file1=t?ge.newFileObject():null},confirmStep2Set:function(t){this.confirmStep2=t},buildFiles:function(){var t=this;this.confirmStep3=!0;var e=[this.file0.buildCorrelationFiles()];this.file0.customFileOutputSuffix(this.fileSuffix),this.secondFile&&(this.file1.target=this.file0.target,this.file1.correlationFeatureRemovalList=this.file0.correlationFeatureRemovalList,this.file1.customFileOutputSuffix(this.fileSuffix),e.push(this.file1.buildCorrelationFiles())),this.step4Loading=!0,Promise.all(e).then((function(e){t.step4Loading=!1,console.log(e)}))},saveFiles:function(t){console.log(t),st()(this.file0.correlationOutputFiles.output_file,this.file0.fileOutputName+".csv"),this.file0.correlationOutputFiles.missing_count>0&&t.exportMissingRows&&st()(this.file0.correlationOutputFiles.missing_file,this.file0.fileOutputName+"_missing_data.csv"),this.secondFile&&(st()(this.file1.correlationOutputFiles.output_file,this.file1.fileOutputName+".csv"),this.file1.correlationOutputFiles.missing_count>0&&t.exportMissingRows&&st()(this.file1.correlationOutputFiles.missing_file,this.file1.fileOutputName+"_missing_data.csv")),this.$store.commit("FileProcessingDialogOpenSet",!0)}}},aa=ea,ia=Object(u["a"])(aa,me,fe,!1,null,null,null),sa=ia.exports;p()(ia,{VAlert:Ft["a"],VContainer:J["a"]});var na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("MenuBar",{attrs:{title:t.$store.state.tools[t.$options.name].title,icon:t.$store.state.tools[t.$options.name].icon,description:t.$store.state.tools[t.$options.name].description},on:{reset:t.resetStep1}}),a("StepFileUploadMultiple",{attrs:{stepNumber:"1",stepTitle:"File Upload",file0:t.file0,file1:t.file1,maxRows:t.file0.defaultMaxRows,maxFeatures:t.file0.defaultMaxFeatures},on:{hasSecondFile:t.hasSecondFile,noFile0:t.resetStep1,noFile1:t.resetSecondFileStep1}}),t.stepNumber>=2?a("StepTargetSelection",{attrs:{stepNumber:"2",stepTitle:"Select Target",fileObject:t.file0,nextStepFunction:"generateFeatureSelection",nextStepParam:"featureSelectorResults",nextStepButtonText:"Calculate Feature Value"},on:{nextStepState:t.confirmStep2Set,resetStep:t.resetStep2}}):t._e(),t.stepNumber>=3?a("StepFeatureSelector",{attrs:{stepNumber:"3",stepTitle:"Feature Selector",fileObject:t.file0},on:{selectPercentileMode:t.selectPercentileMode,nextStep:t.buildFiles}}):t._e(),t.stepNumber>=4?a("StepFileOutput",{attrs:{stepNumber:"4",stepTitle:"Output Files",file0:t.file0,file1:t.file1,loadingFileData:t.step4Loading,outputFilesGroup:"featureSelectorOutputFiles"},on:{saveFiles:t.saveFiles}}):t._e()],1)},la=[],oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:""}},[a("StepHeading",{attrs:{stepNumber:t.stepNumber,stepTitle:t.stepTitle}}),null==t.fileObject.featureSelectorResults?a("div",[a("v-progress-circular",{attrs:{color:"blue",size:"50",width:"10",indeterminate:""}})],1):t._e(),null!=t.fileObject.featureSelectorResults?a("div",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-select",{attrs:{outlined:"",dense:"",label:"Method",items:t.methodItems,"item-text":"text","item-value":"value"},model:{value:t.method,callback:function(e){t.method=e},expression:"method"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-select",{attrs:{outlined:"",dense:"",label:"Percentile",items:t.percentileItems,"item-text":"text","item-value":"value"},model:{value:t.percentile,callback:function(e){t.percentile=e},expression:"percentile"}})],1)],1),null==t.method?a("div",[t._v(" Pick your method and percentile. ")]):t._e(),a("FeatureSelectorDonutGraphs",{attrs:{input:t.selectedColumns}}),a("v-data-table",{attrs:{headers:t.tableHeaders,items:t.selectedColumns,"items-per-page":100}}),a("div",{staticClass:"text-right"},[a("v-btn",{attrs:{disabled:t.confirmStep,color:"primary",rounded:"",dark:"",depressed:""},on:{click:function(e){return t.nexStep()}}},[t._v(" Proceed to next step ")])],1)],1):t._e()],1)},ra=[],ca=(a("fb6a"),a("13d5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("v-switch",{attrs:{label:"Display graphs"},model:{value:t.showGraphs,callback:function(e){t.showGraphs=e},expression:"showGraphs"}})],1),a("div",{attrs:{vif:"showGraphs"}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("div",{staticClass:"overline text-center"},[t._v(" Relative Contributions of Selected Features ")]),t.$store.state.diagnosticsEnabled?a("div",[a("v-alert",{attrs:{color:"purple",text:""}},[t._v(" QAsumCheck of All %s : "+t._s(t.QAsumCheck(t.relativeGraphSeries))+" ")])],1):t._e(),a("apexchart",{key:t.relativeGraphKey,attrs:{type:"donut",options:t.relativeGraphOptions,series:t.relativeGraphSeries}})],1),a("v-col",{attrs:{cols:"6"}},[a("div",{staticClass:"overline text-center"},[t._v(" Total Contributions to All Features ")]),t.$store.state.diagnosticsEnabled?a("div",[a("v-alert",{attrs:{color:"purple",text:""}},[t._v(" QAsumCheck of All %s : "+t._s(t.QAsumCheck(t.totalGraphSeries))+" ")])],1):t._e(),a("apexchart",{key:t.totalGraphKey,attrs:{type:"donut",options:t.totalGraphOptions,series:t.totalGraphSeries}})],1)],1)],1)])}),ua=[],da={name:"FeatureSelectorDonutGraphs",props:["input"],data:function(){return{showGraphs:!1,relativeGraphKey:0,relativeGraphOptions:null,relativeGraphSeries:[],totalGraphKey:0,totalGraphOptions:null,totalGraphSeries:[]}},watch:{input:function(){this.makeRelativeGraph(),this.makeTotalGraph()}},created:function(){this.relativeGraphOptions=this.makeGraphOptions(),this.totalGraphOptions=this.makeGraphOptions()},methods:{makeRelativeGraph:function(){var t=this;this.relativeGraphOptions=this.makeGraphOptions(),this.relativeGraphOptions.labels=[],this.relativeGraphSeries=[];var e=0;this.input.forEach((function(a,i){i<9?(t.relativeGraphSeries.push(a.selectedPercentage),t.relativeGraphOptions.labels.push(a.feature)):e+=a.selectedPercentage})),e>0&&(this.relativeGraphSeries.push(e),this.relativeGraphOptions.labels.push("other feature (see table)")),this.relativeGraphKey+=1},makeTotalGraph:function(){var t=this;this.totalGraphOptions=this.makeGraphOptions(),this.totalGraphOptions.labels=[],this.totalGraphSeries=[];var e=100,a=0;this.input.forEach((function(i,s){e-=i.totalPercentage,s<9?(t.totalGraphSeries.push(i.totalPercentage),t.totalGraphOptions.labels.push(i.feature)):a+=i.totalPercentage})),a>0&&(this.totalGraphSeries.push(a),this.totalGraphOptions.labels.push("other feature (see table)")),this.totalGraphOptions.colors=this.totalGraphOptions.colors.slice(0,this.totalGraphOptions.labels.length),this.totalGraphSeries.push(e),this.totalGraphOptions.labels.push("unused features"),this.totalGraphOptions.colors.push("#D3D3D3"),this.totalGraphKey+=1},makeGraphOptions:function(){return{colors:["#4c86ff","#577df9","#6173f3","#6b69ec","#745ee4","#7d53db","#8446d2","#8b38c8","#9225bd","#9229b1"],labels:[],chart:{animations:{enabled:!0}},dataLabels:{enabled:!1},plotOptions:{}}},QAsumCheck:function(t){return t.reduce((function(t,e){return t+e}))}}},pa=da,ha=Object(u["a"])(pa,ca,ua,!1,null,null,null),ma=ha.exports;p()(ha,{VAlert:Ft["a"],VCol:yt["a"],VRow:Dt["a"],VSwitch:At["a"]});var fa={name:"StepFeatureSelector",components:{StepHeading:gt,FeatureSelectorDonutGraphs:ma},props:["stepNumber","stepTitle","fileObject"],data:function(){return{confirmStep:!1,method:null,methodItems:[{text:"Select Percentile",value:"select_percentile"},{text:"Random Forrest Feature Importance",value:"rf"}],percentile:.75,percentileItems:[{text:"25%",value:.25},{text:"50%",value:.5},{text:"75%",value:.75}],tableHeaders:[{text:"Feature",value:"feature"},{text:"Raw Score",value:"score"},{text:"Relative Contribution of Selected Features (%)",value:"selectedPercentage"},{text:"Total Contribution to All Features (%)",value:"totalPercentage"}]}},mounted:function(){window.scrollTo(0,document.body.scrollHeight)},watch:{method:function(){this.confirmStep=!1,this.$emit("selectPercentileMode",this.method+"_"+this.percentile)},percentile:function(){this.confirmStep=!1,this.$emit("selectPercentileMode",this.method+"_"+this.percentile)}},computed:{selectedColumns:function(){if(null!=this.fileObject.featureSelectorResults&&null!=this.method&&null!=this.percentile){var t=this.fileObject.featureSelectorResults.feature_number,e=Math.round(t*this.percentile),a=this.fileObject.featureSelectorResults[this.method].slice(0,e),i=a.reduce((function(t,e){return t+e.score}),0),s=this.fileObject.featureSelectorResults[this.method].reduce((function(t,e){return t+e.score}),0);return a.forEach((function(t){t.selectedPercentage=Math.round(t.score/i*100),t.totalPercentage=Math.round(t.score/s*100)})),a}return[]}},methods:{nexStep:function(){var t=[];this.selectedColumns.forEach((function(e){t.push(e.feature)})),this.fileObject.featureSelectorColumns=t,this.confirmStep=!0,this.$emit("nextStep")}}},va=fa,ga=Object(u["a"])(va,oa,ra,!1,null,null,null),_a=ga.exports;p()(ga,{VBtn:x["a"],VCard:R["a"],VCol:yt["a"],VDataTable:we["a"],VProgressCircular:N["a"],VRow:Dt["a"],VSelect:Bt["a"]});var Sa={name:"FeatureSelector",components:{MenuBar:Rt,StepFileUploadMultiple:ze,StepTargetSelection:Ae,StepFeatureSelector:_a,StepFileOutput:ta},props:[],created:function(){this.file0=ge.newFileObject(),this.file1=null},data:function(){return{file0:null,file1:null,secondFile:null,confirmStep2:!1,confirmStep3:!1,step4Loading:!1,fileSuffix:null}},computed:{stepNumber:function(){return this.showStep4?4:this.showStep3?3:this.showStep2?2:1},showStep2:function(){return!(null==this.file0.fileMetadata||0!=this.secondFile||!this.file0.fileValidation.bool)||!(null==this.file0.fileMetadata||1!=this.secondFile||null==this.file1||null==this.file1.fileMetadata||!this.file0.fileValidation.bool||null==this.file1.fileValidation||1!=this.file1.fileValidation.bool)},showStep3:function(){return!(null==this.file0.target||!this.confirmStep2)},showStep4:function(){return!!this.confirmStep3}},methods:{setStepState:function(t,e){console.log(t,e)},resetStep1:function(){this.file0=ge.newFileObject(),this.file1=null,this.secondFile=null,this.resetStep2()},resetSecondFileStep1:function(){this.file1=ge.newFileObject(),this.resetStep2()},resetStep2:function(){this.file0.target=null,this.file0.featureSelectorResults=null,this.confirmStep2=!1,this.resetStep3()},resetStep3:function(){this.file0.featureSelectorColumns=null,null!=this.file1&&(this.file1.target=null,this.file1.featureSelectorColumns=null),this.resetStep4()},resetStep4:function(){this.confirmStep3=!1,this.step4Loading=!1,this.file0.featureSelectorOutputFiles=null,null!=this.file1&&(this.file0.featureSelectorOutputFiles=null)},hasSecondFile:function(t){this.secondFile=t,this.file1=t?ge.newFileObject():null},confirmStep2Set:function(t){this.confirmStep2=t},selectPercentileMode:function(t){this.fileSuffix="_fs_"+t,this.resetStep4()},buildFiles:function(){var t=this;this.confirmStep3=!0;var e=[this.file0.buildFeatureSelectorFiles()];this.file0.customFileOutputSuffix(this.fileSuffix),this.secondFile&&(this.file1.target=this.file0.target,this.file1.featureSelectorColumns=this.file0.featureSelectorColumns,this.file1.customFileOutputSuffix(this.fileSuffix),e.push(this.file1.buildFeatureSelectorFiles())),this.step4Loading=!0,Promise.all(e).then((function(){t.step4Loading=!1}))},saveFiles:function(t){st()(this.file0.featureSelectorOutputFiles.output_file,this.file0.fileOutputName+".csv"),this.file0.featureSelectorOutputFiles.missing_count>0&&t.exportMissingRows&&st()(this.file0.featureSelectorOutputFiles.missing_file,this.file0.fileOutputName+"_missing_data.csv"),this.secondFile&&(st()(this.file1.featureSelectorOutputFiles.output_file,this.file1.fileOutputName+".csv"),this.file1.featureSelectorOutputFiles.missing_count>0&&t.exportMissingRows&&st()(this.file1.featureSelectorOutputFiles.missing_file,this.file1.fileOutputName+"_missing_data.csv")),this.$store.commit("FileProcessingDialogOpenSet",!0)}}},ba=Sa,Ca=Object(u["a"])(ba,na,la,!1,null,null,null),Fa=Ca.exports;p()(Ca,{VContainer:J["a"]});var xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("MenuBar",{attrs:{title:t.$store.state.tools[t.$options.name].title,icon:t.$store.state.tools[t.$options.name].icon,description:t.$store.state.tools[t.$options.name].description},on:{reset:t.resetStep1}}),a("StepFileDrop",{attrs:{stepTitle:"File Selection",stepNumber:"1"},on:{files:t.batchEvaluateMetadataAndStore}})],1)},wa=[],Oa={newFilePipeline:function(){return{file:null,uploading:!1,metadata:null,storage_id:null,evaluateMetadataAndStore:function(){var t=this;if(null!=this.file){var e=new FormData;return e.append("file",this.file),this.uploading=!0,et.a.post("/encode/store",e,{headers:{"Content-Type":"multipart/form-data",filename:this.file.name}}).then((function(e){return t.metadata=e.data,!0}))}}}}},Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"ma-3 pa-5",attrs:{outlined:"",flat:""},on:{drop:function(e){return e.preventDefault(),t.addFile.apply(null,arguments)},dragover:function(t){t.preventDefault()}}},[a("StepHeading",{attrs:{stepNumber:t.stepNumber,stepTitle:t.stepTitle}}),0==t.files.length?a("div",{staticClass:"text-center"},[a("div",[t._v("To get started, drag and drop your CSV file(s) into this box. This tool will help prepare your data for use with MILO.")]),a("div",[a("v-icon",{attrs:{size:"150",color:"grey lighten-2"}},[t._v(" mdi-file-upload-outline ")])],1)]):t._e(),t._l(t.files,(function(e,i){return a("v-card",{key:i,staticClass:"pa-3 my-2",attrs:{flat:"",outlined:""}},[t.fileMetadata[i]?a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"6"}},[a("v-icon",[t._v("mdi-file")]),t._v(" "+t._s(e.name)+" ")],1),a("v-col",{attrs:{cols:"5"}},[t._v(" Columns: "+t._s(t.fileMetadata[i].columns)+" | Rows: "+t._s(t.fileMetadata[i].rows)+" ")]),a("v-col",{staticClass:"text-right",attrs:{cols:"1"}},[a("v-btn",{attrs:{icon:"",title:"mdi-close"},on:{click:function(a){return t.removeFile(e)}}},[t._v("X")])],1)],1):t._e()],1)})),t.fileMetadata[0]?a("div",{staticClass:"mt-10"},[a("div",{staticClass:"my-3"},[t._v(" Pick your target column. ")]),a("v-select",{attrs:{dense:"",outlined:"",items:t.fileMetadata[0].fields},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1):t._e(),null!=this.target&&t.files.length>0?a("div",{staticClass:"text-right"},[a("v-btn",{staticClass:"primary",attrs:{disabled:t.complete,rounded:"",text:"",dark:""},on:{click:t.emitFileArray}},[t._v(" Evaluate Files ")])],1):t._e()],2)},Ta=[],Va=a("2909"),ya=a("369b"),Da=a.n(ya),ka={name:"StepFileDrop",components:{StepHeading:gt},data:function(){return{files:[],fileMetadata:[],target:null,complete:!1}},props:["stepNumber","stepTitle"],watch:{files:function(){var t=this;this.fileMetadata=[],this.complete=!1,this.files.forEach((function(e){Da.a.parse(e,{header:!0,complete:function(e){var a=e.meta;a.rows=e.data.length,a.columns=e.meta.fields.length,a.fields=a.fields.reverse(),a.type=null,t.fileMetadata.push(a)}})}))}},methods:{addFile:function(t){var e=this,a=t.dataTransfer.files;a&&Object(Va["a"])(a).forEach((function(t){e.files.push(t)}))},removeFile:function(t){this.files=this.files.filter((function(e){return e!=t}))},emitFileArray:function(){this.files.length>0&&(this.$emit("files",{files:this.files,target:this.target}),this.complete=!0)}}},Ra=ka,ja=Object(u["a"])(Ra,Ma,Ta,!1,null,null,null),Na=ja.exports;p()(ja,{VBtn:x["a"],VCard:R["a"],VCol:yt["a"],VIcon:w["a"],VRow:Dt["a"],VSelect:Bt["a"]});var $a={name:"Encoder",components:{MenuBar:Rt,StepFileDrop:Na},props:[],created:function(){},data:function(){return{filePipelines:[],toggle_exclusive:null}},computed:{stepNumber:function(){return this.showStep4?4:this.showStep3?3:this.showStep2?2:1},showStep2:function(){return!1},showStep3:function(){return!1},showStep4:function(){return!1}},methods:{batchEvaluateMetadataAndStore:function(t){var e=this,a=[];t.files.forEach((function(i){var s=Oa.newFilePipeline();s.file=i,s.target=t.target,a.push(s.evaluateMetadataAndStore()),e.filePipelines.push(s)})),Promise.all(a).then((function(){console.log("done")}))},resetStep1:function(){},resetStep2:function(){},resetStep3:function(){},resetStep4:function(){}}},za=$a,Pa=Object(u["a"])(za,xa,wa,!1,null,null,null),La=Pa.exports;p()(Pa,{VContainer:J["a"]});var Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("MenuBar",{attrs:{title:"Internal Diagnostics Tools",icon:"mdi-gears",description:"Internal QA Tools"}}),a("v-card",{staticClass:"ma-3 pa-3",attrs:{flat:"",outlined:""}},[a("v-switch",{attrs:{label:"QA View"},model:{value:t.$store.state.diagnosticsEnabled,callback:function(e){t.$set(t.$store.state,"diagnosticsEnabled",e)},expression:"$store.state.diagnosticsEnabled"}})],1)],1)},Ea=[],Ba={name:"Diagnostics",components:{MenuBar:Rt},data:function(){return{}}},Aa=Ba,Ia=Object(u["a"])(Aa,Ga,Ea,!1,null,null,null),Ha=Ia.exports;p()(Ia,{VCard:R["a"],VContainer:J["a"],VSwitch:At["a"]}),i["a"].use(H["a"]);var Ua=[{path:"/columnreducer",name:"ColumnReducer",component:Ut},{path:"/colinearity",name:"Colinearity",component:sa},{path:"/featureselector",name:"FeatureSelector",component:Fa},{path:"/traintestsplit",name:"TrainTestSplit",component:he},{path:"/encoder",name:"Encoder",component:La},{path:"/",name:"Landing",component:W},{path:"/diagnostics",name:"Diagnostics",component:Ha}],Xa=new H["a"]({mode:"history",base:"/",routes:Ua}),Ka=Xa,qa=a("2f62");i["a"].use(qa["a"]);var Ja=new qa["a"].Store({state:{snackbarMessage:{show:!1,color:"blue",message:"Test message"},fileProcessingDialog:{loading:!1,open:!1},dataSet:[{name:"Single File",value:"combined"},{name:"Training",value:"training"},{name:"Testing",value:"testing"}],tools:{TrainTestSplit:{title:"Train and Test Builder",icon:"mdi-call-split",description:"Build both a training and validation data set from a single data file.",isVisible:!0},Colinearity:{title:"Multicollinearity Assessment & Removal Tool",icon:"mdi-chart-bell-curve-cumulative",description:"Assess for multicollinearity in datasets along with feature removal options.",isVisible:!0},FeatureSelector:{title:"Feature Selector",icon:"mdi-select-all",description:"Select the subset of data with the most relative value.",isVisible:!0},ColumnReducer:{title:"Column Reducer Tool",icon:"mdi-table-column-width",description:"Extract specific columns from your training and test data to experiment with further refinement of your model.",isVisible:!0},Encoder:{title:"Encoder Tool",icon:"mdi-file-code-outline",description:"Covert non-numeric datatypes for use in MILO.",isVisible:!1}},diagnosticsEnabled:!0},mutations:{snackbarMessageSet:function(t,e){t.snackbarMessage.show=!0,t.snackbarMessage.message=e.message,t.snackbarMessage.color=e.color},FileProcessingDialogOpenSet:function(t,e){t.fileProcessingDialog.open=e},FileProcessingDialogLoadingSet:function(t,e){t.fileProcessingDialog.loading=e}},actions:{},modules:{}}),Qa=a("f309");i["a"].use(Qa["a"]);var Wa=new Qa["a"]({}),Ya=a("a56f"),Za=a.n(Ya);i["a"].use(Za.a),i["a"].component("apexchart",Za.a),i["a"].config.productionTip=!1,new i["a"]({router:Ka,store:Ja,vuetify:Wa,render:function(t){return t(A)}}).$mount("#app")},7886:function(t,e,a){"use strict";a("b0e1")},b0e1:function(t,e,a){}});
//# sourceMappingURL=app.ec45c52e.js.map